"use strict";!function(){angular.module("uiDeniGridDropdownItemModule",[])}(),function(){function e(e){var t=this;t.rendererItem=function(t,n){if(n.filter&&n.filter.renderer)return 0===t.ctrl.elementItemCaption.children().length&&(n.filter.renderer(t.ctrl.elementItemCaption),n.filter.setValuesInputs(t.ctrl.elementItemCaption,n.filterModel)),"";var o=n.template||'<span class="ui-deni-grid-dropdown-item-caption-text">'+n.caption+"</span>";return e.trustAsHtml(o)},t.filterCheckboxChange=function(e){}}angular.module("uiDeniGridDropdownItemModule").service("uiDeniGridDropdownItemService",e),e.$inject=["$sce"]}(),function(){function e(e){this.rendererItem=e.rendererItem,this.filterCheckboxChange=e.filterCheckboxChange}angular.module("uiDeniGridDropdownItemModule").controller("uiDeniGridDropdownItemController",e)}(),function(){function e(e){return{restrict:"E",scope:{},bindToController:{menuItem:"="},controller:"uiDeniGridDropdownItemController",controllerAs:"ctrl",template:e.get("ui-deni-grid-dropdown-item.view.html"),link:function(e,t,n){e.ctrl.element=t,e.ctrl.elementItemCaption=t.find(".ui-deni-grid-dropdown-item-caption")}}}angular.module("uiDeniGridDropdownItemModule").directive("uiDeniGridDropdownItem",e)}(),function(){angular.module("uiDeniGridDropdownItemModule").run(["$templateCache",function(e){e.put("ui-deni-grid-dropdown-item.view.html",'<div class="ui-deni-grid-dropdown-item-container unselectable" ng-class="{\'separator\' : ctrl.menuItem.separator}" ng-click="ctrl.menuItem.click()">\n\t<div class="ui-deni-grid-dropdown-item-inner" >\n\t\t<div class="ui-deni-grid-dropdown-item-center-container">\n\t\t\t<div class="ui-deni-grid-dropdown-item-center-inner">\n\t\t\t\t<div class="ui-deni-grid-dropdown-item-center-image-checkbox">\t\n\t\t\t\t<img src="{{ctrl.menuItem.icon}}">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="ui-deni-grid-dropdown-item-caption" ng-bind-html="ctrl.rendererItem(this, ctrl.menuItem)">\n\t\t</div>\n\t</div>\n</div>'),e.put("date-filter.template.html",'<div class="filter-field-type-date-container">\n\t<div class="filter-field-type-date-row">\n\t\t<span class="filter-field-type-date-caption">>=</span>\n\t\t<input class="filter-field-type-date" type="text" onfocus="(this.type=\'date\')" onblur="(this.type=\'text\')" />\n\t</div>\n\t<div class="filter-field-type-date-row">\n\t\t<span class="filter-field-type-date-caption"><=</span>\n\t\t<input class="filter-field-type-date" type="text" onfocus="(this.type=\'date\')" onblur="(this.type=\'text\')" />\n\t</div>\n\t<div class="filter-field-type-date-row">\n\t\t<span class="filter-field-type-date-caption">=</span>\n\t\t<input class="filter-field-type-date" type="text" onfocus="(this.type=\'date\')" onblur="(this.type=\'text\')" autofocus />\n\t</div>\n\t<div class="filter-field-type-date-button-container">\n\t\t<button class="filter-field-type-date-button">Filter</button>\n\t</div>\n</div>'),e.put("datetime-filter.template.html",'<div class="filter-field-type-datetime-container">\n\t<div class="filter-field-type-datetime-row">\n\t\t<span class="filter-field-type-datetime-caption">>=</span>\n\t\t<input class="filter-field-type-datetime" type="datetime-local" />\n\t</div>\n\t<div class="filter-field-type-datetime-row">\n\t\t<span class="filter-field-type-datetime-caption"><=</span>\n\t\t<input class="filter-field-type-datetime" type="datetime-local" />\n\t</div>\n\t<div class="filter-field-type-datetime-button-container">\n\t\t<button class="filter-field-type-datetime-button">Filter</button>\n\t</div>\n</div>'),e.put("float-filter.template.html",'<div class="filter-field-type-float-container">\n\t<div class="filter-field-type-float-row">\n\t\t<span class="filter-field-type-float-caption">>=</span>\n\t\t<input class="filter-field-type-float" type="number" />\n\t</div>\n\t<div class="filter-field-type-float-row">\n\t\t<span class="filter-field-type-float-caption"><=</span>\n\t\t<input class="filter-field-type-float" type="number" />\n\t</div>\n\t<div class="filter-field-type-float-row">\n\t\t<span class="filter-field-type-float-caption">=</span>\n\t\t<input class="filter-field-type-float" type="number" autofocus />\n\t</div>\n\t<div class="filter-field-type-float-button-container">\n\t\t<button class="filter-field-type-float-button">Filter</button>\n\t</div>\n</div>'),e.put("integer-filter.template.html",'<div class="filter-field-type-integer-container">\n\t<div class="filter-field-type-integer-row">\n\t\t<span class="filter-field-type-integer-caption">>=</span>\n\t\t<input class="filter-field-type-integer" type="number" />\n\t</div>\n\t<div class="filter-field-type-integer-row">\n\t\t<span class="filter-field-type-integer-caption"><=</span>\n\t\t<input class="filter-field-type-integer" type="number" />\n\t</div>\n\t<div class="filter-field-type-integer-row">\n\t\t<span class="filter-field-type-integer-caption">=</span>\n\t\t<input class="filter-field-type-integer" type="number" autofocus />\n\t</div>\n\t<div class="filter-field-type-integer-button-container">\n\t\t<button class="filter-field-type-integer-button">Filter</button>\n\t</div>\n</div>'),e.put("multiselect-filter.template.html",'<div class="filter-field-type-multiselect-container">\n\t<div class="filter-field-type-multiselect-row" ng-repeat="item in items">\n\t\t<label>\n\t\t\t<input type="checkbox" name="{{item.key}}" value="{{item.key}}">\n\t\t\t<span>{{item.value}}</span>\n\t\t</label>\n\t</div>\n\t<div class="filter-field-type-multiselect-button-container">\n\t\t<button class="filter-field-type-multiselect-button">Filter</button>\n\t</div>\n</div>'),e.put("select-filter.template.html",'<div class="filter-field-type-select-container">\n\t<div class="filter-field-type-select-row" ng-repeat="item in items">\n\t\t<label>\n\t\t\t<input type="radio" name="selectField" key="{{item.key}}" value="{{item.value}}">\n\t\t\t<span>{{item.value}}</span>\n\t\t</label>\n\t</div>\n\t<div class="filter-field-type-select-button-container">\n\t\t<button class="filter-field-type-select-button">Filter</button>\n\t</div>\n</div>'),e.put("string-filter.template.html",'<div class="filter-field-type-string-container">\n\t<div class="filter-field-type-string-row">\n\t\t<span class="filter-field-type-string-caption">~</span>\n\t\t<input class="filter-field-type-string" ng-value="filterModel.nome" type="text" autofocus autoselect />\n\t</div>\n\t<div class="filter-field-type-string-button-container">\n\t\t<button class="filter-field-type-string-button">Filter</button>\n\t</div>\n</div>')}])}(),function(){angular.module("uiDeniGridDropdownModule",["uiDeniGridDropdownItemModule"])}(),function(){function e(e,t,n,o,r,i){var l=this;l.scope=null,l.controller=null,l.callbackFunction=null,l.sortable=!1,l.containerElm=null,l.column=null,l.setController=function(e){l.controller=e};var a=function(){var e=$(event.target),t=e.closest(".ui-deni-grid-dropdown-container");0===t.length&&l.close(null,!1)},s=function(){l.close(null,!0)},d=function(){var e=l.column.filter.field||l.column.name;l.scope.filterModel=l.scope.filterModel||{};var t=l.scope.filterModel[e];if(t)if(l.column.filter.renderer){if(!angular.isDefined(l.column.filter.setValuesInputs))throw new Error('When you define "filter.renderer" you must define "filter.setValuesInputs" as well.');if(!angular.isFunction(l.column.filter.setValuesInputs))throw new Error('"filter.setValuesInputs" must be a function.');l.column.filter.setValuesInputs(l.containerElm,l.scope.filterModel)}else if("integer"===l.column.filter.type){var n=l.containerElm.find("input[type=number]"),o=n.get(0),r=n.get(1),i=n.get(2);angular.forEach(t,function(e){"<="===e.oper?o.value=e.key:">="===e.oper?r.value=e.key:"="===e.oper&&(i.value=e.key)})}else if("float"===l.column.filter.type);else if("string"===l.column.filter.type){var a=l.containerElm.find("input[type=text]");a.val(t.key)}else if("date"===l.column.filter.type);else if("datetime"===l.column.filter.type){var s=l.containerElm.find("input"),d=s.get(0),c=s.get(1);angular.forEach(t,function(e){"<="===e.oper?d.value=e.key:">="===e.oper&&(c.value=e.key)})}else if("boolean"===l.column.filter.type);else if("select"===l.column.filter.type){var u=l.containerElm.find("input[type=radio][value="+t.key+"]");u.length>0&&u.prop("checked",!0)}else{if("multiSelect"!==l.column.filter.type)throw new Error("Filter type invalid!");angular.forEach(t,function(e){var t=l.containerElm.find("input[type=checkbox][value="+e.key+"]");t.length>0&&t.prop("checked",!0)})}},c=function(e,t){var n=r.defer(),i=0,l=10,a=50,s=o(function(){var r=t?e.find(t):e;r.length>0&&(o.cancel(s),n.resolve(r)),i++,i>l&&(n.reject("time out!"),o.cancel(s))},a);return n.promise},u=function(n,o,i){var l=r.defer(),a=e.get(o);angular.isUndefined(a)&&console.log('Template not found "'+o+'"'),n.scope.filterModel=n.options.filter.model;var s=angular.element(a),d=t(s),u=d(n.scope);return n.scope.items=i,c(u).then(function(){l.resolve(u.get(0).outerHTML)}),l.promise},p=function(e,t,n){if("integer"===t.type)return u(e,"integer-filter.template.html");if("float"===t.type)return u(e,"float-filter.template.html");if("string"===t.type)return u(e,"string-filter.template.html");if("date"===t.type)return u(e,"date-filter.template.html");if("datetime"===t.type)return u(e,"datetime-filter.template.html");if("boolean"===t.type);else{if("select"===t.type)return u(e,"select-filter.template.html",t.items);if("multiSelect"===t.type)return u(e,"multiselect-filter.template.html",t.items)}throw new Error("Filter type invalid!")},f=function(){var e=l.containerElm.offset().left+l.containerElm.width(),t=window.innerWidth;if(e>t){var n=35;l.containerElm.css("left",t-l.containerElm.width()-n+".px")}},m=function(e){var t=l.containerElm.offset().top+l.containerElm.height(),n=window.innerHeight;t>n&&l.containerElm.css("top",e.offset().top-l.containerElm.height()+".px")},g=function(e,t,o,r){l.controller.items=[];var i=function(){f(),m(r)};if(t&&o.sortable!==!1&&(l.controller.items.push({name:"mniSortAsc",caption:"Sort Ascending",icon:"data:image/gif;base64,R0lGODlhEAAQAPcAAAAAACkxOTE5SnM5KUJSY1Jje1prezFSlDFalDlalEprlEJrtUprtVJ7rVJzvVp7vVJzxlJ7xnuMpXOMtXOUvXuUtWOExnuU1oQxIYQ5KZQ5OYxCOZRCQpRKUpRSWpxjY5xja5xzc6Vze5xrhJx7lKV7hKWEnLWEnK2MpbWUrbWcrbWttZSlxpStxgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAQABAAAAh+AP8JhCCwYMECBv9dWMAi4T8WACoYjOAggUMBAAIYZPDvQEKIAABMEPjAAYUEDQwakBCRgECOAj0mBFDQAoIW/xIcUDDToU+BNAuaIIGCBAgVPQuWEOhhg8OgBk9gWPHUYYcPPqEKHOE0q8EUHJD+E5FUoIYBIT5kCFH258+AADs=",click:function(){l.close({name:o.name,direction:"ASC"},!1)}}),l.controller.items.push({name:"mniSortDesc",caption:"Sort Descending",icon:"data:image/gif;base64,R0lGODlhEAAQAPcAAAAAAAD/ACkxOTE5SjFCczFKhDlKezlSe0JSY0JapUpajEpjpVJje1JrnFJzrVpre1pztWN7tWuMvXM5KXOMtXuMpXuUtYQxIYQ5KYxCOYycxpQ5OZRCOZRCQpRKUpRSWpSlxpStxpStzpxjY5xja5xrhJxzc5x7lJy11qVze6V7hKV7lKWEnK2Mpa3G57WEnLWUrbWcrbWttbXG572lrb3G1r3W98bG3s7O3s7e79be9////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////yH5BAEAAAEALAAAAAAQABAAAAh/AAOwONHiBIkYARImBKAwgIqEHzI0XDgxwIsLMioynOhhRMUAGxWWkPgxZAAYHRAGSDHR5IYJJkZgMNHyo02TCheUrCghgQaNFR00MNDwQQUAFhA01EmgYQgAUCkohNCAgoEGDQcAELBUYVOFIJAqjFAARAADBBQ0ZGCzbcKAAAA7",click:function(){l.close({name:o.name,direction:"DESC"},!1)}})),o.filter){var a=function(e){console.log(l.scope.filterModel);var t={name:"mniFilter",caption:"Filter",column:o,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAK3RFWHRDcmVhdGlvbiBUaW1lAEZyIDI4IEZlYiAyMDAzIDExOjUxOjUxICswMTAwfOn0bwAAAAd0SU1FB9QHBwgdIKCdDVwAAAAJcEhZcwAACvAAAArwAUKsNJgAAAAEZ0FNQQAAsY8L/GEFAAACdUlEQVR42o1SvW9ScRS9j0ehNIWAIQEpqTg4mA46yOCATYyb6dLRuLB3cfAf6NKtq38AIXERFhMGhYAmBuoAUWiVgqVA+CwfeYB8FZ7nvjy0X4M3ue+X994953fPuVcgxO7urmZ7e/tZLpd73uv1HoqieEev15vm8zlNp1Op3W6Xj46O0slk8iPOD51OZwDYOWOF09PTB4lEwp9KpTYYsLa2Rg6Hg5xOJ5lMJjKbzcq5srJCICefz5fb399/lc/no8APRKvVGvb7/Ru4lVZXV8lgMCjFRqORlpaWSKvVkiAIxP/5u9vtvtXtdp9Eo9EvIGhpUHTW7/cJbZEkSTQcDrlt4m4YyAQ6nY4giRYBGWc4HiHNmnK5/HpnZ6e9vr5O0Eq1Wo0Gg4FSyB1ZLBalGyYNBoO0tbXVCgQC3/B7ipwLeBi8Xu/Lvb29NygS0+k0NRoNms1mNJlMFNJCoUDNZpNGo9E5/HqLb0Xg3iNTIh4zGHgCgB7sj202G8EXstvtiu4LsuRMJvMOHTeBCSO5i76oyhrH4/Hv0Hp/c3PzHnuC26jValGpVKJ6vU7Hx8cRjLGO2k/IAyT7IC8IZOSwWCymlpeXn3o8Hiv7wH4ASBjZYSwW+ynL8oFKUOHOGSjSv5hjElK1Ws1CzgtMQchmswyehEKhMCQcqq0XVAOV0NDlGKPNz5jI1OVyKTsBIyXI6eNfAnnCNRcBVwlYCs9wxCaq4/uNd0lte3Cl/hqBQlKpVMI8AfhB4/F4qN46vaH2kgd/A8Z9jUQiVszbgq37gb3Iq2PrXq0V6Obgvb2rrutt5C9kTB3dfxEsSEy8qTxi9fZrMv4ACcVMYmdxl5oAAAAASUVORK5CYII=",separator:l.controller.items.length>0,filter:o.filter,filterModel:l.scope.filterModel};e&&(t.template=e),l.controller.items.push(t),n(function(){i(),d()})};o.filter.renderer?a():p(e,o.filter,o).then(function(e){a(e)})}n(function(){i()})};l.open=function(o,r,i,d,u){l.scope=o.scope,l.column=i,l.callbackFunction=u,l.sortable=r;var p=$(event.target),f=d||{y:event.clientY,x:event.clientX},m=e.get("ui-deni-grid-dropdown.view.html");l.containerElm=angular.element(m);var A=$(document.body);l.containerElm.css({top:f.y,left:f.x,visibility:"hidden"}),A.append(l.containerElm),t(l.containerElm)(l.scope),l.containerElm.css("visibility","visible"),g(o,r,i,p),i.filter&&n(function(){c(l.containerElm,"button").then(function(e){e.click(s)});var e=void 0;"date"===i.filter.type||"datetime"===i.filter.type?e="input:first":"string"!==i.filter.type&&"integer"!==i.filter.type&&"float"!==i.filter.type||(e="input:last"),angular.isDefined(e)&&c(l.containerElm,e).then(function(e){var t=e.get(0);$(t).focus(),e.keydown(l.inputsKeydown)})}),$(document).mousedown(a)};var A=function(e){var t={};if("integer"===l.column.filter.type){var n=l.containerElm.find("input[type=number]"),o=n.get(0),r=n.get(1),i=n.get(2);t=[],isNaN(o.valueAsNumber)||t.push({key:o.valueAsNumber,value:o.valueAsNumber,oper:"<="}),isNaN(r.valueAsNumber)||t.push({key:r.valueAsNumber,value:r.valueAsNumber,oper:">="}),isNaN(i.valueAsNumber)||t.push({key:i.valueAsNumber,value:i.valueAsNumber,oper:"="})}else if("float"===l.column.filter.type);else if("string"===l.column.filter.type){var a=l.containerElm.find("input[type=text]");t={key:a.val(),value:a.val(),oper:"~"}}else if("date"===l.column.filter.type);else if("datetime"===l.column.filter.type){var s=l.containerElm.find("input"),d=s.get(0),c=s.get(1);t=[],d.value&&t.push({key:d.value,value:d.value,oper:"<="}),c.value&&t.push({key:c.value,value:c.value,oper:">="})}else if("boolean"===l.column.filter.type);else if("select"===l.column.filter.type){var u=l.containerElm.find("input[type=radio]:checked");t={key:u.attr("key"),value:u.attr("value"),oper:"="}}else{if("multiSelect"!==l.column.filter.type)throw new Error("Filter type invalid!");var p=l.containerElm.find("input[type=checkbox]:checked");t=[],angular.forEach(p,function(e){t.push({key:e.value,value:e.nextElementSibling.innerText,oper:"="})})}var f={},m=l.column.filter.field||l.column.name,g=angular.isArray(t),A=!1;if(A=g?t.length>0:angular.isDefined(t.value)&&null!==t.value&&""!==t.value)f[m]=t;else{var v=Object.keys(e);v.indexOf(m)!==-1&&delete e[m]}return f};l.close=function(e,t){if(!e&&l.column.filter){var n=void 0;if(l.column.filter&&l.column.filter.renderer){if(!angular.isDefined(l.column.filter.getFilterModel))throw new Error('When you define "filter.renderer" you must define "filter.getFilterModel" as well.');if(!angular.isFunction(l.column.filter.getFilterModel))throw new Error('"filter.getFilterModel" must be a function.');n=l.column.filter.getFilterModel(l.containerElm)}else n=A(l.scope.filterModel);angular.extend(l.scope.filterModel,n)}l.containerElm.remove(),$(document).off("mousedown",a),l.callbackFunction&&l.callbackFunction(l.column,e,t)},l.inputsKeydown=function(){13===event.keyCode&&s(),event.stopPropagation()}}angular.module("uiDeniGridDropdownModule").service("uiDeniGridDropdownService",e)}(),function(){function e(e){this.items=[],e.setController(this),this.keydown=e.keydown}angular.module("uiDeniGridDropdownModule").controller("uiDeniGridDropdownController",e)}(),function(){angular.module("uiDeniGridDropdownModule").run(["$templateCache",function(e){e.put("ui-deni-grid-dropdown.view.html",'<div class="ui-deni-grid-dropdown-container" ng-controller="uiDeniGridDropdownController as ctrl" >\n\t<ui-deni-grid-dropdown-item ng-repeat="item in ctrl.items" menu-item="item"></ui-deni-grid-dropdown-item>\n</div>')}])}(),function(){angular.module("ui-deni-grid",["uiDeniGridDropdownModule"])}(),function(){angular.module("ui-deni-grid").constant("uiDeniGridConstant",{FIXED_COL_INDICATOR_WIDTH:"25px",FIXED_COL_ROWNUMBER_WIDTH:"38px",FIXED_COL_CHECKBOX_WIDTH:"30px",DEFAULT_COLUMN_HEADER_HEIGHT:"25px",DEFAULT_COLUMN_ROW_FOOTER_HEIGHT:"18px",DEFAULT_COLUMN_GROUPING_ROW_FOOTER_HEIGHT:"18px",DEFAULT_ROW_HEIGHT:"22px",PAGING_HEIGHT:"26px",DEFAULT_FILTER_OPTIONS:{remote:!1,allFields:!1,realce:"background-color:#ffffb3;color:black;padding:1px;",model:{}}})}(),function(){function e(e,t){return{restrict:"E",scope:{options:"="},replace:!1,bindToController:!0,controllerAs:"ctrl",controller:"uiDeniGridController",template:e.get("ui-deni-grid"),link:function(e,t,n){e.ctrl.show()}}}angular.module("ui-deni-grid").directive("uiDeniGrid",e)}(),function(){function e(e,t){var n=this;n.getFormatedValue=function(t,n){var o=n.toLowerCase();switch(o){case"currency":return e(o)(t);case"date":return e(o)(t,"shortDate");case"float":return e("currency")(t,"");case"int":case"integer":return t;case"lowercase":return t.toUpperCase();case"uppercase":return t.toLowerCase();default:return t}},n.setInputEditorDivCell=function(e,t,n,o){var r=function(){var e=n.editor;if(e===!0)e={type:"text"};else if(angular.isString(e))e={type:e};else if(!angular.isObject(e))throw new Error('"setInputEditorDivCell : " Property "editor" was set in a wrong way!');e.type=e.type.toLowerCase();var t;if("select"===e.type){t=$(document.createElement("select"));for(var o=0;o<e.items.length;o++){var r=document.createElement("option"),i=e.items[o];r.value=i.value,r.text=i.text,t.get(0).add(r)}}else t=$(document.createElement("input"));for(var l=Object.keys(n.editor),a=0;a<l.length;a++){var s=l[a];"items"!==s&&t.attr(s,n.editor[s])}return t},i=o.find(".ui-cell-inner"),l=i.html(),a=r();a.css("font-size",i.css("font-size")),a.css("font-family",i.css("font-familly")),a.addClass("ui-cell-input-editor"),a.attr("oldValue",l),a.val(l),i.remove();var s=o.css("padding");o.css("padding","0px"),o.append(a);var d=function(t,n){var r=t,i=r.parent(),l=$(document.createElement("span"));if(l.addClass("ui-cell-inner"),n){var a=r.val();r.remove(),i.append(l);var d=i.closest(".ui-row");e.element.api.updateCell(d.attr("rowindex"),i.attr("colindex"),a)}else{var c=r.attr("oldValue");l.html(c),r.remove(),i.append(l)}o.css("padding",s)};a.keydown(function(e){27!==e.keyCode&&13!==e.keyCode||(27===e.keyCode?d($(e.target),!1):13===e.keyCode&&d($(e.target),!0))}),a.focusout(function(e){d($(e.target),!1)}),a.focus()},n.getRealColumnWidth=function(e,t,n){var o=n||e.clientWidth,r=t;return r.indexOf("%")!==-1&&(r=r.replace("%",""),r=o*r/100,r+="px"),r},n.setRealPercentageWidths=function(e,t){for(var o=parseFloat(t.replace("%","")),r=0;r<e.length;r++){if("100%"!==t){var i=parseFloat(e[r].width.replace("%",""));e[r].realPercentageWidth=o*i/100+"%"}var l=e[r].columns;l&&l.length>0&&n.setRealPercentageWidths(l,e[r].width)}},n.getClientWidthDeniGrid=function(e){var t=e.bodyViewport.get(0).offsetWidth-e.bodyViewport.get(0).clientWidth,n=e.colsContainer.width()-t;return n},n.adjustColumnWidtsAccordingColumnHeader=function(e,t,n){var o=t.closest(".ui-header-container"),r=t.closest(".ui-container").find(".ui-body-container"),i=t.css("width");t.is(".ui-header-container-column.last-subcolumn")&&(i="calc("+i+" + 2px)"),r.find(".ui-cell[colIndex="+n+"]").css("width",i),e.options.data.length>0&&r.width(o.width())},n.adjustAllColumnWidtsAccordingColumnHeader=function(e){if(angular.isDefined(e.options.columns))for(var t=(n.getColumns(e,e.options.columns),!1),o=0;o<e.options.columns.length;o++)if(e.options.columns[o].width.toString().indexOf("%")!==-1){t=!0;break}for(var r=0,i=e.fixedColsHeaderContainer.find(".ui-header-container-column:not(.has-subcolumns)"),l=0;l<i.length;l++){var a=$(i[l]);n.adjustColumnWidtsAccordingColumnHeader(e,a,r),r++}i=e.headerContainer.find(".ui-header-container-column:not(.has-subcolumns)");for(var s=0;s<i.length;s++){var d=$(i[s]);n.adjustColumnWidtsAccordingColumnHeader(e,d,r),r++}},n.setDefaultOptions=function(e){var o={};if(o.api={},o.listeners={},o.selType="row",o.colLines=!0,o.rowLines=!0,o.autoLoad=!0,o.columnHeaderHeight=t.DEFAULT_COLUMN_HEADER_HEIGHT,o.columnFooterRowHeight=t.DEFAULT_COLUMN_ROW_FOOTER_HEIGHT,o.columnGroupingFooterRowHeight=t.DEFAULT_COLUMN_GROUPING_ROW_FOOTER_HEIGHT,o.enableGrouping=!0,o.enableColumnResize=!0,o.filter=t.DEFAULT_FILTER_OPTIONS,o.hideHeaders=!1,o.rowHeight=t.DEFAULT_ROW_HEIGHT,o.multiSelect=!1,o.sortableColumns=!e.options.rowDetails,o.sorters=[],o.stripRows=!0,angular.merge(o,e.options),e.options=o,e.options.hideHeaders=e.options.hideHeaders===!0||angular.isDefined(e.options.rowTemplate)||angular.isDefined(e.options.cardView),e.options.cardView&&(e.options.rowHeight=e.options.cardView.rowHeight||"150px"),e.options.rowHeight=e.options.rowHeight.toString(),e.isGrouped=e.options.enableGrouping&&angular.isDefined(e.options.grouping),e.isGrouped){if(angular.isString(e.options.grouping)&&(e.options.grouping={expr:e.options.grouping}),!angular.isObject(e.options.grouping)||angular.isArray(e.options.grouping))throw new Error('"loadData": param "grouping" passed in a wrong way');var r="<b>{"+e.options.grouping.expr+"}</b> ({count})";e.options.grouping.template=e.options.grouping.template||r}if(e.options.fixedCols){var i=function(o){var r=0;if(e.options.fixedCols.indicator&&(r+=parseFloat(t.FIXED_COL_INDICATOR_WIDTH.replace("px",""))),e.options.fixedCols.rowNumber&&(r+=parseFloat(t.FIXED_COL_ROWNUMBER_WIDTH.replace("px",""))),e.options.fixedCols.checkbox&&(r+=parseFloat(t.FIXED_COL_CHECKBOX_WIDTH.replace("px",""))),e.options.fixedCols.columns)for(var i=0;i<o.length;i++)r+=parseFloat(n.getRealColumnWidth(e,o[i].width).replace("px",""));return r};if(e.options.fixedCols===!0&&(e.options.fixedCols={indicator:!0}),angular.isDefined(e.options.fixedCols.indicator)&&e.options.fixedCols.indicator!==!0&&e.options.fixedCols.indicator!==!1)throw new Error('"setInitialDefaultOptions" : "fixedCols.indicator" property was set in a wrong way! (it must be a boolean value)');if(angular.isDefined(e.options.fixedCols.rowNumber)&&e.options.fixedCols.rowNumber!==!0&&e.options.fixedCols.rowNumber!==!1)throw new Error('"setInitialDefaultOptions" : "fixedCols.rowNumber" property was set in a wrong way! (it must be a boolean value)');if(angular.isDefined(e.options.fixedCols.checkbox)&&e.options.fixedCols.checkbox!==!0&&e.options.fixedCols.checkbox!==!1)throw new Error('"setInitialDefaultOptions" : "fixedCols.checkbox" property was set in a wrong way! (it must be a boolean value)');var l=e.options.fixedCols.columns;if(l){if(!angular.isArray(l))throw new Error('"setInitialDefaultOptions" : "fixedCols.columns" property was set in a wrong way!');for(var a=0;a<l.length;a++){for(var s=!1,d=0;d<e.options.columns.length;d++){var c=e.options.columns[d];if(c.name===l[a]){l[a]=c,s=!0;break}}if(!s)throw new Error('"setInitialDefaultOptions" : "fixedCols.columns" -> column "'+l[a]+'" not found!')}}e.options.fixedCols.width=i(l)}e.options.paging&&(e.options.paging===!0&&(e.options.paging={}),e.options.paging.type=e.options.paging.type||"json",e.options.paging.pageSize=e.options.paging.pageSize||50,e.options.paging.currentPage=e.options.paging.currentPage||1);var u=e.options.restConfig,p={type:"json",data:"data",total:"total",start:"start",limit:"limit"};u?angular.extend(p,u):u=p,e.options.restConfig=u},n.ckeckInitialValueFilter=function(e,t){angular.forEach(t,function(t){if(t.filter&&t.filter.initialValue){var n=t.filter.initialValue;angular.isFunction(n)&&(n=n());var o={};if("integer"===t.filter.type);else if("float"===t.filter.type);else if("string"===t.filter.type)o={key:n.toString(),value:n.toString(),oper:"~"};else if("date"===t.filter.type);else if("datetime"===t.filter.type){var r=n;angular.isArray(r)||(r=[n]),o=[],r.length>0&&o.push({key:r[0],value:r[0],oper:"<="}),r.length>1&&o.push({key:r[1],value:r[1],oper:">="})}else if("boolean"===t.filter.type);else if("select"===t.filter.type);else{if("multiSelect"!==t.filter.type)throw new Error("Filter type invalid!");var i=n;angular.isArray(i)||(i=[n]),o=[],angular.forEach(i,function(e){o.push({key:e,value:e,oper:"="})})}e.options.filter.model[t.filter.field||t.name]=o}})},n.remakeHeightBodyViewportWrapper=function(e){var n=3,o=0;"none"!==e.headerViewportWrapper.css("display")&&(o+=e.headerViewportWrapper.height()),e.options.paging&&e.container.css("height","calc(100% - "+t.PAGING_HEIGHT+")"),"none"!==e.footerViewportWrapper.css("display")&&(o+=e.footerViewportWrapper.height()+n);var r="calc(100% - "+o+"px)";e.bodyViewportWrapper.css("height",r)},n.hasColumnFooter=function(e){if(e.options.columns)for(var t=e.options.columns,n=0;n<t.length;n++)if(t[n].footer)return!0;return!1},n.getColumnHeaderLevels=function(e,t){for(var o=0,r=0,i=0;i<t.length;i++){var l=t[i];l.columns&&(r=n.getColumnHeaderLevels(e,l.columns),r>o&&(o=r))}return 1+o},n.getColumnFooterNumber=function(e){var t=0;if(e.options.columns)for(var n=0;n<e.options.columns.length;n++){var o=e.options.columns[n];if(o.footer){var r=angular.isArray(o.footer)?o.footer.length:1;r>t&&(t=r)}}return t},n.getColumnFooterRowsNumber=function(e,t){var n=0;if(e.options.columns)for(var o=0;o<e.options.columns.length;o++){var r=e.options.columns[o];if(r.footer){var i=1;if(angular.isArray(r.footer)){i=0;for(var l=0;l<r.footer.length;l++){var a=r.footer[l];angular.isObject(a)?t?a.grouping!==!1&&i++:a.grid!==!1&&i++:i++}}i>n&&(n=i)}}return n},n.createColumnFooters=function(e,t,o,r){if(!angular.isDefined(e.options.footerTemplate)){var i,l,a;r?(i="ui-footer-row",l="ui-footer-cell",a="ui-footer-cell-inner"):(i="ui-grouping-footer-row",l="ui-grouping-footer-cell",a="ui-grouping-footer-cell-inner");for(var s,d,c=r?e.columnFooterRowsNumberGrid:e.columnFooterRowsNumberGrouping,u=r?e.options.columnFooterRowHeight:e.options.columnGroupingFooterRowHeight,p=0;p<c;p++){var f=$(document.createElement("div"));if(f.css("height",u),f.addClass(i),f.attr("index",p),!angular.isDefined(e.options.footerRowTemplate))for(var m=0,g=0;g<o.length;g++){var A=o[g];s=$(document.createElement("div")),s.addClass(l),s.attr("index",g),s.css({width:n.getRealColumnWidth(e,A.width),"text-align":A.align}),f.append(s),A.footer&&(d=$(document.createElement("span")),d.addClass(a),m++,s.append(d),angular.isArray(A.footer)||(A.footer=[A.footer]))}t.append(f)}if(c>0){var v=t.find("."+i),w=$(v.get(0));w.find("."+l).addClass("first-row");var h=$(v.get(v.length-1));h.find("."+l).addClass("last-row");var C=w.find("."+l).length;t.find("."+l+"[footerColIndex=0]").addClass("first-col"),t.find("."+l+"[footerColIndex="+(C-1)+"]").addClass("last-col")}}},n.renderColumnFooters=function(e,t,o,r,i){var l,a,s;i?(l="ui-footer-row",a="ui-footer-cell",s="ui-footer-cell-inner"):(l="ui-grouping-footer-row",a="ui-grouping-footer-cell",s="ui-grouping-footer-cell-inner");for(var d={},c=0,u=0;u<e.columnFooterNumber;u++){var p,f={};angular.isDefined(e.options.footerTemplate)||(p=$(t.find("."+l)[u]));for(var m=0;m<o.length;m++){var g=o[m];if(g.footer){var A=g.footer[u];if(angular.isDefined(A)){var v=A.grid!==!1,w=A.grouping!==!1,h=i&&v||!i&&w;if(h){var C=Object.keys(n.defaultFunctions);angular.isString(A)?A=C.indexOf(A.toLowerCase())===-1?{text:A}:{fn:A.toLowerCase()}:angular.isFunction(A)&&(A={fn:A}),p=$(t.find("."+l)[c]);var x=$(p.find("."+a).get(m)),y=x.find("."+s);y.empty();var b=A.fn;if(angular.isDefined(b)){var I;if(angular.isFunction(b))I=b(r,g.name);else{if(!angular.isString(b))throw new Error('"renderColumnFooters" : "fn" param passed in a wrong way!');if(C.indexOf(b.toLowerCase())===-1)throw new Error('"renderColumnFooters" : "'+b+'" is not a default function!');var E=b.toUpperCase();A.text=A.text||b.toLowerCase()+" : ","AVG"===E?I=n.defaultFunctions.avg(r,g.name):"COUNT"===E?I=n.defaultFunctions.count(r):"MAX"===E?I=n.defaultFunctions.max(r,g.name):"MIN"===E?I=n.defaultFunctions.min(r,g.name):"SUM"===E&&(I=n.defaultFunctions.sum(r,g.name))}var D=A.format||g.format;if(angular.isDefined(D)&&(I=n.getFormatedValue(I,D)),angular.isDefined(e.options.footerTemplate))d[g.name+"("+u+").text"]=A.text,d[g.name+"("+u+").value"]=I;else if(angular.isDefined(e.options.footerRowTemplate))f[g.name+".text"]=A.text,f[g.name+".value"]=I;else{angular.isDefined(A.align)&&x.css("text-align",A.align),angular.isDefined(A.style)&&x.css(A.style);var R=$(document.createElement("span"));R.addClass("fn-value"),y.append(R),R.html(I),A.valueRenderer&&(I=A.valueRenderer(R,I));var F=$(document.createElement("span"));F.addClass("fn-text"),F.insertBefore(R),F.html(A.text),A.textRenderer&&(A.text=A.textRenderer(F,A.text))}}else{if(!angular.isDefined(A.text))throw new Error('"renderColumnFooters" : column footer neither has "function" nor "text" property was set!');y.html(A.text)}c++}}}}if(angular.isDefined(e.options.footerRowTemplate)){var H=n.applyTemplateValues(e.options.footerRowTemplate,f);p.html(H),p.css("width","100%")}}if(angular.isDefined(e.options.footerTemplate)){var V=n.applyTemplateValues(e.options.footerTemplate,d);t.html(V)}},n.createPagingItems=function(e,t,n){var o=$(document.createElement("span"));o.addClass("button"),o.addClass("button-first"),o.addClass("disabled"),t.append(o),o.click(function(t){e.element.api.setPageNumber(1)});var r=$(document.createElement("span"));r.addClass("button"),r.addClass("button-prev"),r.addClass("disabled"),t.append(r),r.click(function(t){e.element.api.setPageNumber(e.element.api.getPageNumber()-1)});var i=$(document.createElement("span"));i.addClass("separator"),t.append(i);var l=$(document.createElement("span"));l.addClass("label-page-number"),l.html("Page"),t.append(l);var a=$(document.createElement("input"));a.addClass("input-page-number"),a.attr("type","text"),a.attr("value",e.options.paging.currentPage),t.append(a),a.keydown(function(t){if(13===t.keyCode){var n=parseInt($(t.target).val());n<1?n=1:n>e.options.paging.pageCount&&(n=e.options.paging.pageCount),e.element.api.setPageNumber(n),$(t.target).select()}}),a.focusin(function(e){$(e.target).select()});var s=$(document.createElement("span"));s.addClass("label-page-count"),t.append(s);var d=$(document.createElement("span"));d.addClass("separator"),t.append(d);
var c=$(document.createElement("span"));c.addClass("button"),c.addClass("button-next"),c.addClass("disabled"),t.append(c),c.click(function(t){e.element.api.setPageNumber(e.element.api.getPageNumber()+1)});var u=$(document.createElement("span"));u.addClass("button"),u.addClass("button-last"),u.addClass("disabled"),t.append(u),u.click(function(t){e.element.api.setPageNumber(e.options.paging.pageCount)});var p=$(document.createElement("span"));p.addClass("separator"),t.append(p);var f=$(document.createElement("span"));f.addClass("button"),f.addClass("button-refresh"),t.append(f),f.click(function(t){e.element.api.reload()});var m=$(document.createElement("span"));m.addClass("label-record-count"),t.append(m);var g=$(document.createElement("span"));g.addClass("separator"),g.css("float","right"),t.append(g);var A=$(document.createElement("span"));if(A.addClass("label-displaying"),t.append(A),angular.isDefined(n.buttons))if(angular.isArray(n.buttons)){var v=$(document.createElement("span"));v.addClass("separator"),v.css({"float":"right","margin-left":"4px"}),t.append(v),angular.forEach(n.buttons,function(e){var n=$(document.createElement("span"));n.addClass("button"),n.addClass("button-additional"),n.addClass("disabled"),n.html(e.text),t.append(n),n.get(0).onclick=e.click})}else console.log('"buttons" property must be a array.');t.find(".button").mouseenter(function(e){$(e.target).addClass("hover")}),t.find(".button").mouseout(function(e){$(e.target).removeClass("hover")})},n.defaultFunctions={avg:function(e,t){return n.defaultFunctions.sum(e,t)/e.length},count:function(e){return e.length},max:function(e,t){for(var n=Number.MIN_VALUE,o=0;o<e.length;o++){var r=e[o],i=r[t];i>n&&(n=i)}return n},min:function(e,t){for(var n=Number.MAX_VALUE,o=0;o<e.length;o++){var r=e[o],i=r[t];i<n&&(n=i)}return n},sum:function(e,t){for(var n=0,o=0;o<e.length;o++){var r=e[o];n+=r[t]}return n}},n.rowDetailsExpand=function(e,t,n,o){var r=t.find(".ui-cell-inner.row-detail");r.removeClass("expand"),r.addClass("collapse"),t.addClass("row-detail-expanded"),e.managerRendererItems.insertRowDefailtBox(o),e.element.api.repaint(!0)},n.rowDetailsCollapse=function(e,t,n,o){var r=t.find(".ui-cell-inner.row-detail");r.removeClass("collapse"),r.addClass("expand"),t.removeClass("row-detail-expanded"),e.managerRendererItems.removeRowDetailtBox(o),e.element.api.repaint()};n.groupExpand=function(e,t,n,o){var r=t.attr("groupIndex");if(angular.isDefined(r)){r=parseInt(r);for(var i=[],l=(e.options.data,0);l<e.options.data.length;l++){var a=e.options.data[l];a.groupIndex===r&&i.push(l)}e.managerRendererItems.insertChildrenGroup(r,i),e.element.api.repaint()}},n.groupCollapse=function(e,t,n,o){var r=t.attr("groupIndex");angular.isDefined(r)&&(r=parseInt(r),e.managerRendererItems.removeAllChildrenGroup(r),e.element.api.repaint())},n.transformToArrayValue=function(e){var t=[];return e&&(Array.isArray(e)?t=e:t.push(e)),t},n.applyTemplateValues=function(e,t,o){var r=n.prepareForNestedJson(t);angular.extend(r,o);for(var i=Object.keys(r),l=e,a=0;a<i.length;a++)for(var s=i[a],d=r[s],c="{"+s+"}",u=l.indexOf(c);u!==-1;)l=l.replace(c,d),u=l.indexOf(c,u+d.length);return l},n.prepareForNestedJson=function(e){var t={},n=function o(e,n){var r="[object Array]"===toString.call(e)?"]":"";for(var i in e)e.hasOwnProperty(i)&&(angular.isObject(e[i])||(t[n+i+r]=e[i]),"[object Array]"===toString.call(e[i])?o(e[i],n+i+r+"["):"[object Object]"===toString.call(e[i])&&o(e[i],n+i+r+"."))};return n(e,""),t},n.getColumns=function(e,t){for(var o=[],r=0;r<t.length;r++){var i=t[r];i.columns?o=o.concat(n.getColumns(e,i.columns)):o.push(i)}return o},n.isFixedColumn=function(e,t){if(!e.options.fixedCols||!e.options.fixedCols.columns)return!1;for(var n=0;n<e.options.fixedCols.columns.length;n++)if(e.options.fixedCols.columns[n].name===t)return!0},n.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++){var n=new RegExp("\\{"+(t-1).toString()+"\\}","gi");e=e.replace(n,arguments[t])}return e},n.ManagerRendererItems=function(e){var t=this;t.rowHeight=parseInt(e.options.rowHeight.replace("px","")),t.items=[],t.renderedItems=[],t.createItems=function(){t.items=[];var o=0;if(e.element.api.isGrouped()){for(var r=0;r<e.options.dataGroup.length;r++)if(t.items.push({top:o,height:t.rowHeight,rowIndex:e.options.dataGroup[r].rowIndex,groupIndex:r,children:e.options.dataGroup[r].children}),o+=t.rowHeight,n.hasColumnFooter(e)&&e.columnFooterRowsNumberGrouping>0){var i=e.options.columnGroupingFooterRowHeight;i=parseInt(i.toString().replace("px","")),i*=e.columnFooterRowsNumberGrouping,t.items.push({top:o,height:i,rowIndex:e.options.dataGroup[r].rowIndex,groupIndex:r,children:e.options.dataGroup[r].children,footerContainer:!0}),o+=i}}else for(var l=angular.isDefined(e.options.cardView)?e.options.cardView.numberOfColumns:1,a=0;a<e.options.data.length;)for(var s=0;s<l;s++){if(t.items.push({top:o,height:t.rowHeight,rowIndex:a}),o+=t.rowHeight,e.options.rowDetails&&e.options.rowDetails.autoExpand){var d=e.options.rowDetails.height||50;d=parseInt(d.toString().replace("px","")),t.items.push({top:o,height:d,rowIndex:a,rowDetails:!0}),o+=d}a++}},t.removeRow=function(e,n){for(var o,r=!1,i=0;i<t.items.length;i++){var l=t.items[i];r?(l.rowIndex--,l.top=o,l.rendered&&l.rowElement.remove(),l.rendered=!1,o+=l.height):l.rowIndex===n&&(r=!0,o=l.top,t.items.splice(i,1),l.rendered&&l.rowElement.remove(),e.options.data.splice(n,1),i--)}var a=t.items[t.items.length-1].top+t.rowHeight;e.bodyContainer.height(a),e.fixedColsBodyContainer.height(a)},t.insertRowDefailtBox=function(n){for(var o,r=!1,i=0;i<t.items.length;i++){var l=t.items[i];if(r)l.top=o,l.rendered&&l.rowElement.css("top",o+"px"),o+=l.height;else if(l.rowIndex===n){l.expanded=!0,r=!0,o=l.top+l.height-2;var a=e.options.rowDetails.height||50;a=parseInt(a.toString().replace("px","")),t.items.splice(i+1,0,{top:o,height:a,rowIndex:n,rowDetails:!0}),i++,o+=a}}var s=t.items[t.items.length-1].top+t.rowHeight;e.bodyContainer.height(s),e.fixedColsBodyContainer.height(s)},t.removeRowDetailtBox=function(n){for(var o,r=!1,i=0;i<t.items.length;i++){var l=t.items[i];r?(l.top=o,l.rendered&&l.rowElement.css("top",o+"px"),o+=l.height):l.rowIndex===n&&(l.expanded=!1,r=!0,o=l.top+l.height,e.bodyContainer.find(".ui-row.row-detail-container[rowindex="+n+"]").remove(),t.items.splice(i+1,1))}var a=t.items[t.items.length-1].top+t.rowHeight;e.bodyContainer.height(a),e.fixedColsBodyContainer.height(a)},t.insertChildrenGroup=function(n,o){for(var r,i=!1,l=0;l<t.items.length;l++){var a=t.items[l];if(i)a.top=r,a.rendered&&a.rowElement.css("top",r+"px"),r+=a.height;else if(a.groupIndex===n){a.expanded=!0,i=!0,r=a.top+a.height;for(var s=0;s<o.length;s++)t.items.splice(l+1+s,0,{top:r,height:t.rowHeight,rowIndex:o[s],groupIndex:n,indexInsideGroup:s}),r+=t.rowHeight;l+=o.length}}var d=t.items[t.items.length-1].top+t.rowHeight;e.bodyContainer.height(d),e.fixedColsBodyContainer.height(d)},t.removeAllChildrenGroup=function(n){for(var o,r=!1,i=0;i<t.items.length;i++){var l=t.items[i];if(r)l.top=o,l.rendered&&l.rowElement.css("top",o+"px"),o+=l.height;else if(l.groupIndex===n){for(l.expanded=!1,r=!0,i++;t.items[i].groupIndex===n;){var a=t.items[i];if(a.footerContainer)break;a.rendered&&a.rowElement.remove(),t.items.splice(i,1)}i--,o=l.top+l.height}}var s=t.items[t.items.length-1].top+t.rowHeight;e.bodyContainer.height(s),e.fixedColsBodyContainer.height(s)},t.getVisibleRows=function(){for(var n=[],o=e.bodyViewport.scrollTop(),r=o+e.bodyViewport.height(),i=0;i<t.items.length;i++){var l=t.items[i];l.top+l.height>o&&l.top<r&&n.push(l)}return n},t.removeAllNotVisibleElementsRows=function(e,n){for(var o=0;o<t.items.length;o++){var r=t.items[o];if(r.rendered&&n.indexOf(r)===-1&&!r.footerContainer){var i=".ui-row[rowindex="+r.rowIndex+"]:not(.ui-grouping-footer-container)";e.bodyContainer.find(i).remove(),e.fixedColsBodyContainer.find(i).remove(),r.rendered=!1,r.rowElement=void 0}}},t.setAllElementsToNotRendered=function(){for(var e=0;e<t.items.length;e++){var n=t.items[e];n.rendered=!1,n.rowElement=void 0}},t.getInfoGroup=function(e){for(var n=0;n<t.items.length;n++){var o=t.items[n];if(o.groupIndex===e&&angular.isDefined(o.children))return o}return null},t.getInfoRow=function(e){for(var n=0;n<t.items.length;n++){var o=t.items[n];if(o.rowIndex===e)return o}return null},t.adjustElementTop=function(e){e.rowElement.css("top",e.top+"px")}}}angular.module("ui-deni-grid").service("uiDeniGridHelperService",e)}(),function(){function uiDeniGridEventsService($compile,uiDeniGridHelperService,uiDeniGridConstant){var vm=this;vm.controller=null,vm.setController=function(e){vm.controller=e,vm.controller.bodyViewport.scroll(vm.bodyViewportScroll)};var _createDivCell=function(e){var t=$(document.createElement("div"));return t.addClass("ui-cell"),vm.controller.options.colLines&&t.css("border-right","solid 1px #e6e6e6"),vm.controller.options.rowLines&&t.css("border-bottom","solid 1px #e6e6e6"),e.is(".row-detail")||(t.mouseenter(function(t){vm.controller.enabled&&("row"===vm.controller.options.selType?(vm.controller.bodyViewport.find(".ui-row[rowindex="+e.attr("rowindex")+"]:not(.row-detail)").find(".ui-cell").addClass("hover"),vm.controller.fixedColsBodyViewport.find(".ui-row[rowindex="+e.attr("rowindex")+"]:not(.row-detail)").find(".ui-cell").addClass("hover")):$(t.currentTarget).addClass("hover"))}),t.mouseleave(function(t){vm.controller.enabled&&(vm.controller.bodyViewport.find(".ui-row[rowindex="+e.attr("rowindex")+"]").find(".ui-cell").removeClass("hover"),vm.controller.fixedColsBodyViewport.find(".ui-row[rowindex="+e.attr("rowindex")+"]").find(".ui-cell").removeClass("hover"))}),t.mousedown(function(e){if(vm.controller.enabled&&1===e.which)if("row"===vm.controller.options.selType){var t=$(e.currentTarget),n=t.closest(".ui-row"),o=parseInt(n.attr("rowindex"));o!==vm.controller.element.api.getSelectedRowIndex()&&vm.controller.element.api.selectRow(o)}else{var r=$(e.currentTarget),i=parseInt(r.attr("colIndex")),l=r.closest(".ui-row"),a=parseInt(l.attr("rowindex"));vm.controller.element.api.selectCell(a,i)}}),t.dblclick(function(e){var t=$(e.target);if(t.is(".ui-cell-inner")){var n=$(e.currentTarget),o=parseInt(n.attr("colIndex")),r=uiDeniGridHelperService.getColumns(vm.controller,vm.controller.options.columns),i=r[o];if(i.editor){var l=n.closest(".ui-row"),a=parseInt(l.attr("rowindex")),s=vm.controller.options.data[a];uiDeniGridHelperService.setInputEditorDivCell(vm.controller,s,i,n)}}})),e.append(t),t},_createDivCellInner=function(e){var t=$(document.createElement("span"));return t.addClass("ui-cell-inner"),e.append(t),t},_rendererRealcedCells=function e(t,n,o,r,i){if(o&&r){var l=!1,a=null;if(n)l=!0,a=r["*"];else{var s=t.filter&&t.filter.field?t.filter.field:t.name;a=r[s],l=angular.isDefined(a)}if(l){if(angular.isArray(a)){var d=o;return angular.forEach(a,function(o){var r={};r[t.name]=o,d=e(t,n,d,r,i)}),d}var c=function(e){return'<span style="'+i+'">'+e+"</span>"},u=a.value;if("="===a.oper)return c(o);if("<="===a.oper)return c(o);if(">="===a.oper);else{o=o.toString();var p=o.search(new RegExp(u,"i"));if(p!==-1){for(var f="",m=0;p!==-1;)f+=o.substring(m,p),f+=c(o.substring(p,p+u.length)),m=p+u.length,p=o.toLowerCase().indexOf(u.toLowerCase(),m);return f+=o.substring(m,o.length)}}}}return o};vm.onrenderer=function(rowElement,fixedRowElement,record,itemToRender,viewController){if(angular.isDefined(vm.controller.options.rowTemplate)){var divCell=_createDivCell(rowElement);rowElement.css("width","100%"),divCell.css("width","100%");var valueToRender=uiDeniGridHelperService.applyTemplateValues(vm.controller.options.rowTemplate,record);divCell.html(valueToRender)}else if(rowElement.is(".row-detail")){var _divCell4=_createDivCell(rowElement);_divCell4.addClass("row-detail");var spanCellInner=_createDivCellInner(_divCell4);spanCellInner.addClass("row-detail"),itemToRender.expanded?spanCellInner.addClass("collapse"):spanCellInner.addClass("expand"),spanCellInner.css("cursor","pointer"),spanCellInner.click(function(e){spanCellInner.toggleClass("expand collapse"),rowElement.toggleClass("expand collapse"),spanCellInner.is(".collapse")?uiDeniGridHelperService.groupExpand(vm.controller,rowElement,record,itemToRender.rowIndex):uiDeniGridHelperService.groupCollapse(vm.controller,rowElement,record,itemToRender.rowIndex)});var _valueToRender=void 0;if(vm.controller.options.grouping.template){var totalRowsInGroup=parseInt(rowElement.attr("children")||0);_valueToRender=uiDeniGridHelperService.applyTemplateValues(vm.controller.options.grouping.template,record,{count:totalRowsInGroup})}spanCellInner.html(_valueToRender)}else if(rowElement.is(".ui-grouping-footer-container")){var columns=vm.controller.options.columns,_totalRowsInGroup=parseInt(rowElement.attr("children")||0),records=vm.controller.options.data.slice(itemToRender.rowIndex,itemToRender.rowIndex+_totalRowsInGroup);uiDeniGridHelperService.createColumnFooters(vm.controller,rowElement,columns,!1),uiDeniGridHelperService.renderColumnFooters(vm.controller,rowElement,columns,records,!1)}else for(var isRowSelected=rowElement.is(".selected"),_columns=uiDeniGridHelperService.getColumns(vm.controller,vm.controller.options.columns),colIndex=0,_loop=function _loop(index){if(0===index&&vm.controller.options.fixedCols){if(vm.controller.options.fixedCols.checkbox){var divCellIndicator=_createDivCell(fixedRowElement);divCellIndicator.css("width",uiDeniGridConstant.FIXED_COL_CHECKBOX_WIDTH),divCellIndicator.addClass("auxiliar-fixed-column");var spanCellIndicatorInner=_createDivCellInner(divCellIndicator);spanCellIndicatorInner.addClass("checkbox");var inputCheck=$(document.createElement("input"));inputCheck.attr("type","checkbox"),inputCheck.css({cursor:"pointer"}),spanCellIndicatorInner.append(inputCheck),colIndex++}if(vm.controller.options.fixedCols.indicator){var _divCellIndicator=_createDivCell(fixedRowElement);_divCellIndicator.css("width",uiDeniGridConstant.FIXED_COL_INDICATOR_WIDTH),_divCellIndicator.addClass("auxiliar-fixed-column");var _spanCellIndicatorInner=_createDivCellInner(_divCellIndicator);_spanCellIndicatorInner.addClass("indicator"),colIndex++}if(vm.controller.options.fixedCols.rowNumber){var divCellRowNumber=_createDivCell(fixedRowElement);divCellRowNumber.css("width",uiDeniGridConstant.FIXED_COL_ROWNUMBER_WIDTH),divCellRowNumber.addClass("auxiliar-fixed-column");var spanCellRowNumberInner=_createDivCellInner(divCellRowNumber);spanCellRowNumberInner.addClass("rownumber"),spanCellRowNumberInner.html(itemToRender.rowIndex+1),colIndex++}}var column=_columns[index],divCell=void 0;divCell=_createDivCell(uiDeniGridHelperService.isFixedColumn(vm.controller,column.name)?fixedRowElement:rowElement),divCell.attr("colIndex",colIndex);var spanCellInner=_createDivCellInner(divCell);if(column.action){spanCellInner.css("text-align","center"),spanCellInner.addClass("ui-cell-inner-action");var iconActionColumn=column.action.mdIcon||column.action.icon;angular.isFunction(iconActionColumn)&&(iconActionColumn=iconActionColumn(record));var imgActionColumn=void 0;if(column.action.mdIcon){var imgActionColumnBtn=$(document.createElement("md-button"));if(column.action.tooltip){var imgActionColumnBtnTooltip=$(document.createElement("md-tooltip")),textTooltip=void 0;textTooltip=angular.isFunction(column.action.tooltip)?column.action.tooltip(record):column.action.tooltip,imgActionColumnBtnTooltip.html(textTooltip),imgActionColumnBtn.append(imgActionColumnBtnTooltip)}imgActionColumn=$(document.createElement("md-icon")),imgActionColumn.addClass("material-icons"),imgActionColumn.html(iconActionColumn),imgActionColumnBtn.append(imgActionColumn);var imgActionColumnBtnCompiled=$compile(imgActionColumnBtn)(vm.controller.scope);spanCellInner.append(imgActionColumnBtn),imgActionColumnBtn.find("md-icon").prop("column",column),imgActionColumnBtn.click(function(e){var t=$(e.currentTarget).find("md-icon"),n=t.prop("column");n.action.fn(record,column,t)})}else imgActionColumn=$(document.createElement("img")),imgActionColumn.attr("src",iconActionColumn),imgActionColumn.attr("title",column.action.tooltip),spanCellInner.append(imgActionColumn),imgActionColumn.prop("column",column),imgActionColumn.click(function(e){var t=$(e.currentTarget),n=t.prop("column");n.action.fn(record,column,imgActionColumn)}),imgActionColumn.css("cursor","pointer")}else{0===index&&vm.controller.options.rowDetails&&(spanCellInner.addClass("row-detail"),itemToRender.expanded||vm.controller.options.rowDetails.autoExpand===!0?spanCellInner.addClass("collapse"):spanCellInner.addClass("expand"),spanCellInner.click(function(e){if(e.offsetX<=12){var t=$(e.target);t.is(".collapse")?uiDeniGridHelperService.rowDetailsCollapse(vm.controller,rowElement,record,itemToRender.rowIndex):uiDeniGridHelperService.rowDetailsExpand(vm.controller,rowElement,record,itemToRender.rowIndex)}})),style=column.style||{},divCell.css(angular.extend(style,{"text-align":column.align||"left"})),0===index&&vm.controller.element.api.isGrouped()&&divCell.css("padding-left","20px"),value=null;try{value=eval("record."+column.name)}catch(err){}column.renderer&&(value=column.renderer(value,record,_columns,itemToRender.rowIndex)),formattedValue=value,angular.isDefined(column.format)&&(formattedValue=uiDeniGridHelperService.getFormatedValue(value,column.format)),rendererRealcedCellsFn=function(e,t,n){return _rendererRealcedCells(column,t,formattedValue,e,n)},vm.controller.searchInfo?isRowSelected&&(formattedValue=rendererRealcedCellsFn(vm.controller.searchInfo.valuesToFilter,vm.controller.options.filter.allFields,vm.controller.searchInfo.opts.inLine.realce)):column.filter&&(formattedValue=rendererRealcedCellsFn(vm.controller.options.filter.model,vm.controller.options.filter.allFields,vm.controller.options.filter.realce)),spanCellInner.html(formattedValue)}divCell.css("width",column.realPercentageWidth||column.width),colIndex++},index=0;index<_columns.length;index++){var style,value,formattedValue,rendererRealcedCellsFn;_loop(index)}},vm.onafterrepaint=function(e){uiDeniGridHelperService.adjustAllColumnWidtsAccordingColumnHeader(vm.controller)},vm.bodyViewportScroll=function(e){var t=$(this).scrollLeft();if(vm.controller.bodyViewport.currentScrollLeft===t){vm.controller.bodyViewport.currentScrollTop=$(this).scrollTop();var n=vm.controller.bodyViewport.find(".ui-row:eq(0)");if(n.length>0){var o=(n.get(0).getBoundingClientRect().top,vm.controller.bodyViewport.currentScrollTop*-1+"px");vm.controller.options.fixedCols&&vm.controller.fixedColsBodyContainer.css("top",o)}}else{vm.controller.bodyViewport.currentScrollLeft=t;var r=vm.controller.bodyViewport.find(".ui-row:eq(0)");if(r.length>0){var i=(r.get(0).getBoundingClientRect().left,vm.controller.bodyViewport.currentScrollLeft*-1+"px");vm.controller.headerContainer.css("left",i),uiDeniGridHelperService.hasColumnFooter(vm.controller)&&vm.controller.footerDivContainer.find(".ui-deni-grid-footer").css("left",i)}}vm.controller.element.api.repaint()}}angular.module("ui-deni-grid").service("uiDeniGridEventsService",uiDeniGridEventsService)}(),function(){function e(e,n,o,r,i,l,a,s){var d=this;d.scope=e,d.enabled=!0,d.checkedRecords=[],d.searchInfo=null,d.loading=!1,d.element=n,d.show=function(){d.wrapper=d.element.find(".ui-deni-grid-wrapper"),d.viewport=d.wrapper.find(".ui-deni-grid-viewport"),d.container=d.viewport.find(".ui-deni-grid-container"),d.colsViewportWrapper=d.container.find(".ui-variable-cols-viewport-wrapper"),d.colsViewport=d.colsViewportWrapper.find(".ui-viewport"),d.colsContainer=d.colsViewport.find(".ui-container"),d.headerViewportWrapper=d.colsContainer.find(".ui-header-viewport-wrapper"),d.headerViewport=d.headerViewportWrapper.find(".ui-header-viewport"),d.headerContainer=d.headerViewport.find(".ui-header-container"),d.bodyViewportWrapper=d.colsContainer.find(".ui-body-viewport-wrapper"),d.bodyViewport=d.bodyViewportWrapper.find(".ui-body-viewport"),d.bodyContainer=d.bodyViewport.find(".ui-body-container"),d.footerViewportWrapper=d.colsContainer.find(".ui-footer-viewport-wrapper"),d.footerViewport=d.footerViewportWrapper.find(".ui-footer-viewport"),d.footerContainer=d.footerViewport.find(".ui-footer-container"),d.fixedColsViewportWrapper=d.container.find(".ui-fixed-cols-viewport-wrapper"),d.fixedColsViewport=d.fixedColsViewportWrapper.find(".ui-viewport"),d.fixedColsContainer=d.fixedColsViewport.find(".ui-container"),d.fixedColsHeaderViewportWrapper=d.fixedColsContainer.find(".ui-header-viewport-wrapper"),d.fixedColsHeaderViewport=d.fixedColsHeaderViewportWrapper.find(".ui-header-viewport"),d.fixedColsHeaderContainer=d.fixedColsHeaderViewport.find(".ui-header-container"),d.fixedColsBodyViewportWrapper=d.fixedColsContainer.find(".ui-body-viewport-wrapper"),d.fixedColsBodyViewport=d.fixedColsBodyViewportWrapper.find(".ui-body-viewport"),d.fixedColsBodyContainer=d.fixedColsBodyViewport.find(".ui-body-container"),d.fixedColsFooterViewportWrapper=d.fixedColsContainer.find(".ui-footer-viewport-wrapper"),d.fixedColsFooterViewport=d.footerViewportWrapper.find(".ui-footer-viewport"),d.fixedColsFooterContainer=d.footerViewport.find(".ui-footer-container"),a.setController(d);d.element.css("height");if(d.paging=d.viewport.find(".ui-deni-grid-paging"),i.setDefaultOptions(d,d.options),i.ckeckInitialValueFilter(d,d.options.columns),d.options.alldata=[],s.implementApi(d,d.element,r),d.options.fixedCols?(d.fixedColsViewportWrapper.css("width",d.options.fixedCols.width+"px"),d.colsViewportWrapper.css("width","calc(100% - "+d.fixedColsViewportWrapper.css("width")+")")):(d.fixedColsViewportWrapper.css("display","none"),d.colsViewportWrapper.css("width","100%")),d.clientWidth=i.getClientWidthDeniGrid(d),d.options.hideHeaders?(d.headerViewportWrapper.css("display","none"),d.fixedColsHeaderViewportWrapper.css("display","none")):(d.columnHeaderLevels=i.getColumnHeaderLevels(d,d.options.columns),d.columnHeaderLevels>1&&i.setRealPercentageWidths(d.options.columns,"100%"),r.createColumnHeaders(d,d.options.columns),r.createColumnHeadersEvents(d),d.headerViewportWrapper.css("height","calc("+d.options.columnHeaderHeight+" * "+d.columnHeaderLevels+")"),d.fixedColsHeaderViewportWrapper.css("height","calc("+d.options.columnHeaderHeight+" * "+d.columnHeaderLevels+")")),d.options.colLines&&d.headerContainer.find(".ui-header-container-column").css("border-right","solid 1px silver"),d.columnFooterRowsNumberGrid=i.getColumnFooterRowsNumber(d),d.columnFooterRowsNumberGrouping=i.getColumnFooterRowsNumber(d,!0),d.columnFooterNumber=i.getColumnFooterNumber(d),i.hasColumnFooter(d)&&d.columnFooterRowsNumberGrid>0){i.createColumnFooters(d,d.footerContainer,d.options.columns,!0);var e=(d.footerContainer.find(".ui-footer-row").length,angular.isDefined(d.options.footerRowTemplate)?"0px":"2px");d.footerViewportWrapper.css({"padding-top":e})}else d.footerViewportWrapper.css("display","none"),d.fixedColsFooterViewportWrapper.css("display","none");d.options.paging&&(d.paging.css("height",l.PAGING_HEIGHT),i.createPagingItems(d,d.paging,d.options.paging)),d.searchInfo=null,d.searching=!1,d.resizing=!1,d.managerRendererItems=new i.ManagerRendererItems(d),i.remakeHeightBodyViewportWrapper(d),d.options.data?d.element.api.loadData(d.options.data):d.options.url&&d.options.autoLoad&&d.element.api.load(),t(d,i)}}function t(e,t){e.scope.$watch(function(){return{width:e.element.width(),height:e.element.height()}},function(n,o){if(n!==o){var r="none"===e.element.css("display")||"hidden"===e.element.css("visibility");!r&&e.options.data&&(t.adjustAllColumnWidtsAccordingColumnHeader(e),e.element.api.repaint())}},!0),angular.element(window).on("resize",function(){e.scope.$apply()})}angular.module("ui-deni-grid").controller("uiDeniGridController",e)}(),function(){function uiDeniGridService($compile,$timeout,$q,$http,$filter,uiDeniGridHelperService,uiDeniGridConstant,uiDeniGridDropdownService,uiDeniGridEventsService){var me=this;me.sum=function(e,t){return e+t},me.clearSelections=function(e){e.bodyViewport.find(".ui-row.selected").removeClass("selected"),e.fixedColsBodyViewport.find(".ui-row.selected").removeClass("selected"),e.bodyViewport.find(".ui-cell.selected").removeClass("selected"),e.fixedColsBodyViewport.find(".ui-cell.selected").removeClass("selected")},me.selectAll=function(e){if(!e.options.multiSelect)throw new Error('"selectAll" : to use selectAll method you must set multiSelect property to true!');e.bodyViewport.find(".ui-row.selected").addClass("selected"),e.bodyViewport.find(".ui-cell.selected").addClass("selected")},me.createColumnHeaders=function(e,t,n,o,r){var i=[],l=function(t){var n=$(document.createElement("div"));return n.addClass("ui-header-container-column-row"),n.css("height",e.options.columnHeaderHeight),t.append(n),n};e.options.fixedCols?(angular.copy(t,i),e.options.fixedCols.rowNumber&&i.splice(0,0,{width:uiDeniGridConstant.FIXED_COL_ROWNUMBER_WIDTH,isFixedColumn:!0}),e.options.fixedCols.indicator&&i.splice(0,0,{width:uiDeniGridConstant.FIXED_COL_INDICATOR_WIDTH,isFixedColumn:!0}),e.options.fixedCols.checkbox&&i.splice(0,0,{width:uiDeniGridConstant.FIXED_COL_CHECKBOX_WIDTH,isFixedColumn:!0,isCheckbox:!0})):i=t;for(var a=(n?n.width():e.clientWidth,o||1),s=!1,d=0;d<e.options.columns.length;d++)if(e.options.columns[d].width.toString().indexOf("%")!==-1){s=!0;break}if(s){var c=e.bodyViewport.get(0).offsetWidth-e.bodyViewport.get(0).scrollWidth;e.headerViewport.css("width","calc(100% - "+c+"px)"),e.headerContainer.css("width","100%")}for(var u=r||0,p=0;p<i.length;p++){var f=i[p],m=$(document.createElement("div"));m.css("width",f.width),m.addClass("ui-header-container-column"),m.attr("colindex",u),angular.isDefined(n)&&(0===p?m.addClass("first-subcolumn"):p===i.length-1&&m.addClass("last-subcolumn"));var g=l(m),A=$(document.createElement("div"));A.addClass("ui-header-cell"),A.attr("colindex",u),A.attr("name",f.name),A.css("text-align",f.align),g.append(A);var v=$(document.createElement("span"));v.addClass("ui-header-cell-inner"),A.append(v);var w=$(document.createElement("span"));w.addClass("ui-header-cell-dropdown");var h=$(document.createElement("span"));h.addClass("dropdown-arrow-down-icon"),w.append(h);var C=function(){var e=$(event.target).closest(".ui-header-cell").is(".has-subcolumns");if(!e){var t=$(event.target).closest(".ui-header-cell-dropdown");t.addClass("active")}};if(w.mouseenter(C),h.mouseenter(C),w.mouseout(function(){var e=$(event.target);e.is(".clicked")||e.removeClass("active")}),A.append(w),f.isCheckbox){var x=$(document.createElement("input"));x.attr("type","checkbox"),x.css({cursor:"pointer"}),A.css({"text-align":"center"}),v.append(x),x.change(function(t){for(var n=e.fixedColsBodyContainer.find(".ui-cell-inner.checkbox").find("input[type=checkbox]"),o=0;o<n.length;o++)n[o].checked=t.target.checked})}else{var y=f.header||f.name;v.html(y),f.action&&(m.addClass("action-button-column"),A.addClass("action-button-column"))}if(angular.isDefined(n)?n.append(m):f.isFixedColumn||uiDeniGridHelperService.isFixedColumn(e,f.name)?e.fixedColsHeaderContainer.append(m):e.headerContainer.append(m),e.columnHeaderLevels>1)if(f.columns){m.addClass("has-subcolumns"),A.addClass("has-subcolumns"),g=l(m),me.createColumnHeaders(e,f.columns,g,a+1,u);var b=g.find(".ui-header-container-column.last-subcolumn");u=b.attr("colIndex")}else if(a<e.columnHeaderLevels){var I=g.css("height"),E=e.columnHeaderLevels-a,D="calc("+I+" + ("+e.options.columnHeaderHeight+" * "+E+"))";g.css({height:D})}u++}},me.createColumnHeadersEvents=function(e){var t,n,o=!1,r=function(){angular.isDefined(t)||(t=document.createElement("hr"),t.classList.add("ui-deni-grid-vertical-line-resizing"),e.colsViewport.append(t));var n=event.pageX-e.colsViewport.offset().left;$(t).css({display:"block",left:n,height:e.colsViewport.height()+"px"})},i=function(){e.resizing=!1,n=null,e.colsViewport.css("cursor","default"),t&&$(t).css("display","none")};e.headerContainer.mousedown(function(t){if(e.enabled){var n=$(t.target).closest(".ui-header-container-column");n.length>0&&o&&(e.resizing=!0),t.preventDefault()}});var l=function u(e,t){var n=e.parents(".ui-header-container-column:eq(0)");if(n.length>0){var o=n.find(".ui-header-container-column"),r=o.length;return n.width(n.width()+t-r),u(n,t)}return e};$(document).mouseup(function(t){if(e.enabled){if(e.resizing){if(n){var o=n.getBoundingClientRect().left+n.clientWidth,r=t.pageX-o,a=$(n),s=a.width()+r;if(a.is(".has-subcolumns")){var d=a.find(".ui-header-container-column.last-subcolumn"),c=d.width();a.width(s);var u=1;d.width(c+r+u)}else{l(a,r);a.width(s)}uiDeniGridHelperService.adjustAllColumnWidtsAccordingColumnHeader(e)}i()}e.colsViewport.css("cursor","default"),t.preventDefault()}});var a=function(e,t,n){var o;return function(){var r=this,i=arguments,l=function(){o=null,n||e.apply(r,i)},a=n&&!o;clearTimeout(o),o=setTimeout(l,t),a&&e.apply(r,i)}};$(document).mousemove(function(t){if(e.enabled){if(e.options.enableColumnResize)if(1===t.which)e.resizing&&a(r(),100);else if(0===t.which){e.colsViewport.css("cursor","default");var i=$(t.target).closest(".ui-header-container-column");if(i.length>0){var l=e.headerContainer.find(".ui-header-cell");o=!1,n=null;for(var s=0;s<l.length;s++){var d=l[s],c=d.getBoundingClientRect();if(t.clientX>c.right-2&&t.clientX<c.right+2){o=!0,e.colsViewport.css("cursor","col-resize"),n=d.closest(".ui-header-container-column");break}}}}t.preventDefault()}});for(var s=e.headerContainer.find(".ui-header-cell"),d=0;d<s.length;d++){var c=$(s[d]);c.mouseenter(function(t){e.enabled&&$(t.currentTarget).addClass("hover")}),c.mouseleave(function(t){e.enabled&&$(t.currentTarget).removeClass("hover")}),c.mouseup(function(t){if(e.enabled&&1===t.which){var n=$(t.target),o=n.closest(".ui-header-cell"),r=o.attr("name"),i=me.getColumn(e,r),l=n.is(".ui-header-cell-dropdown")||n.is(".dropdown-arrow-down-icon");if(l){if(!o.is(".has-subcolumns")){n.addClass("active clicked");var a=getPositionDropDownMenuColumns(n.get(0)),s=function(t,n,o){dropdownMenuCallbackFunction(e,t,n,o)},d=e.options.sortableColumns&&i.sortable!==!1;uiDeniGridDropdownService.open(e,d,i,a,s)}}else if("default"===e.colsViewport.css("cursor")&&e.options.sortableColumns&&i.sortable!==!1){var c=$(t.target.closest(".ui-header-container-column"));if(!c.is(".action-button-column")){var u=o.find(".ui-header-cell-inner"),p="ASC";u.is(".asc")&&(p="DESC"),c.is(".has-subcolumns")||e.element.api.sort({name:o.attr("name"),direction:p})}}}})}};var dropdownMenuCallbackFunction=function(e,t,n,o){e.headerContainer.find(".ui-header-cell-dropdown").removeClass("active clicked"),n?e.element.api.sort(n):t.filter&&o&&e.element.api.filter(e.scope.filterModel)},getPositionDropDownMenuColumns=function(e){for(var t=0,n=0,o=e;o;){if("BODY"===o.tagName){var r=o.scrollLeft||document.documentElement.scrollLeft,i=o.scrollTop||document.documentElement.scrollTop;t+=o.offsetLeft-r+o.clientLeft,n+=o.offsetTop-i+o.clientTop}else t+=o.offsetLeft-o.scrollLeft+o.clientLeft,n+=o.offsetTop-o.scrollTop+o.clientTop;o=o.offsetParent}return{x:t,y:n+e.offsetHeight-1}},_sort=function(e,t){var n;if(angular.isString(t))n=[{name:t,direction:"ASC"}];else if(angular.isObject(t))n=angular.isArray(t)?t:[t];else{if(!angular.isFunction(t))throw new Error('"sort": param "sorters" passed in a wrong way');n=[t]}if(e.options.data){var o=function(t){for(var n=0;n<t.length;n++){var o=t[n],r=o.direction||"ASC";e.options.data=$filter("orderBy")(e.options.data,o.name,"DESC"===r.toUpperCase())}};e.options.fixedSorters&&o(e.options.fixedSorters),o(n)}return n},_repaintCardView=function(e,t){var n=e.options.cardView.numberOfColumns,o=$(document.createElement("div"));o.addClass("ui-row"),o.attr("rowindex",t.rowIndex),o.css("left","0px"),o.css("height",t.height),o.css("width","100%"),o.css("top",t.top+"px"),o.html('<table class="ui-table-card-view"><tr></tr></table>'),e.bodyContainer.append(o);for(var r=o.find("tr").get(0),i=(100/n).toString()+"%",l=0;l<n;l++){var a=t.rowIndex;t.rowIndex>0&&(a=t.rowIndex*n),a+=l;var s=e.options.data[a],d=$(r.insertCell());
if(d.css("width",i),s){var c=uiDeniGridHelperService.applyTemplateValues(e.options.cardView.template,s);if(d.html(c),d.prop("record",s),d.click(function(t){e.bodyContainer.find("td").removeClass("selected"),$(t.currentTarget).addClass("selected"),e.options.listeners.onselectionchange&&e.options.listeners.onselectionchange(e,e.element,a,$(t.currentTarget).prop("record"))}),e.options.cardView.checkbox===!0){var u=$(document.createElement("input"));u.addClass("checkbox"),u.attr("type","checkbox"),e.checkedRecords.indexOf(s)!==-1&&u.attr("checked",!0),u.click(function(t){var n=$(t.target.parent).prop("record"),o=e.checkedRecords.indexOf(n);o!==-1&&e.checkedRecords.splice(o,1),t.target.checked&&e.checkedRecords.push(n),e.options.listeners.oncheckboxchange&&e.options.listeners.oncheckboxchange(n,e.checkedRecords,t.target)}),d.append(u)}}}t.rowElement=o},_repaintRow=function(e,t,n,o,r){var i=r||e.managerRendererItems.getInfoRow(t);if(n&&(i.rendered=!1,angular.isDefined(i.rowElement)&&i.rowElement.remove(),i.rowElement=void 0),!i.rendered){if(angular.isDefined(e.options.cardView))_repaintCardView(e,i);else{var l=e.options.data[i.rowIndex];i.rowElement=_renderRowEl(e,i,l)}i.rowElement&&e.options.listeners.onafterrepaintrow&&e.options.listeners.onafterrepaintrow(i.rowIndex,i.rowElement),o&&uiDeniGridEventsService.onafterrepaint&&uiDeniGridEventsService.onafterrepaint(e)}},_repaint=function(e,t){for(var n=e.managerRendererItems.getVisibleRows(),o=0;o<n.length;o++){var r=n[o];_repaintRow(e,r.rowIndex,t,null,r)}uiDeniGridEventsService.onafterrepaint&&uiDeniGridEventsService.onafterrepaint(e)};me.sort=function(e,t,n){var o;n!==!1&&(o=me.getSelectedRow(e)),e.headerContainer.find("span.ui-header-cell-inner").removeClass("sort").removeClass("asc").removeClass("desc");var r;if(e.element.api.isGrouped())r=_sort(e,t),e.bodyContainer.find(".ui-row.collapse").filter(function(){var t=$(this),n=(parseInt(t.attr("groupIndex")),parseInt(t.attr("rowindex"))),o=e.options.data[n];uiDeniGridHelperService.groupCollapse(e,t,o,n),uiDeniGridHelperService.groupExpand(e,t,o,n)});else if(e.options.rowDetails){var i=[];e.bodyContainer.find(".ui-row.row-detail-expanded").filter(function(){var t=parseInt($(this).attr("rowindex")),n=e.options.data[t];i.push(n)});r=_sort(e,t),e.element.api.loadData(e.options.data);for(var l=0;l<i.length;l++){var a=i[l],s=e.element.api.resolveRowIndex(a),d=e.element.api.resolveRowElement(s);uiDeniGridHelperService.rowDetailsExpand(e,d,a,s)}_repaint(e)}else r=_sort(e,t),e.element.api.loadData(e.options.data);for(var c=0;c<r.length;c++){var u=r[c];if(!angular.isFunction(u)){var p=$(_getHeaderColElementByName(e,u.name,!0)),f=p.find(".ui-header-cell-inner");f.addClass("sort"),f.addClass(u.direction?u.direction.toLowerCase():"asc")}}return o&&me.selectRow(e,o),r};var _getHeaderColElementByName=function(e,t,n){var o=e.headerContainer.find('div.ui-header-cell[name="'+t+'"]');if(0===o.length){if(n)throw new Error('There is not a columns with a name "'+t+'"!');return null}return o[0]};me.getSelectedRow=function(e){return void 0===e.rowIndex?null:e.options.data[e.rowIndex]},me.getChangedRecords=function(e){for(var t=e.bodyViewport.find("div.ui-row.changed"),n=e.options.data,o=[],r=0;r<t.length;r++){var i=$(t[r]).attr("rowindex"),l=n[i];o.push(l)}return o};var _resolveJavaScriptElement=function(e){return angular.isElement(e)?e.get(0):e},_resolveJQueryElement=function(e){return angular.isElement(e)?e:$(e)},_resolveRecord=function(e,t){return angular.isObject(t)?t:e.options.data[t]};me.isRowSelected=function(e,t){var n=e.element.api.resolveRowElement(t);return n.is(".selected")},me.getSelectedRowIndex=function(e){return e.rowIndex},me.getSelectedRowIndexes=function(e){for(var t=[],n=e.bodyViewport.find(".ui-row.selected"),o=0;o<n.length;o++)t.push(parseInt($(n[o]).attr("rowindex")));return t},me.selectRow=function(e,t,n,o){if(!(e.options.data&&e.options.data.length>0))throw new Error('"selectRow": There is not record to select!');var r;if(angular.isElement(t))r=t,e.rowIndex=parseInt(r.attr("rowindex"));else{var i;if(i=e.element.api.isGrouped()?e.element.api.resolveRowIndex(t):e.element.api.resolveRowIndex(t),o=o!==!1,i===-1)throw new Error("selectRow: row passed in a wrong way!");var l=function(e){};if(me.isRowSelected(e,i))l(i);else if(e.rowIndex=i,e.element.api.isGrouped()){var a=e.managerRendererItems.getInfoRow(i);if(!a){var s=e.options.data[i].groupIndex,d=e.managerRendererItems.getInfoGroup(s);e.colsViewport.scrollTop(d.top),_repaint(e);var c=e.options.data[i];uiDeniGridHelperService.groupExpand(e,d.rowElement,c,i),a=e.managerRendererItems.getInfoRow(i)}e.colsViewport.scrollTop(a.top),_repaint(e),r=a.rowElement}else{parseInt(e.options.rowHeight.replace("px",""));_repaint(e);var u=e.managerRendererItems.getInfoRow(i);r=u.rowElement}}if(void 0===e.rowIndex||e.options.multiSelect||e.element.api.clearSelections(),r.addClass("selected"),e.bodyViewport.find(".ui-row[rowindex="+r.attr("rowindex")+"]:not(.row-detail)").find(".ui-cell").addClass("selected"),e.fixedColsBodyViewport.find(".ui-row[rowindex="+r.attr("rowindex")+"]:not(.row-detail)").find(".ui-cell").addClass("selected"),e.options.fixedCols){var p=e.fixedColsBodyContainer.find(".ui-fixed-row[rowindex="+r.attr("rowindex")+"]:not(.row-detail)");p.addClass("selected"),p.find(".ui-cell.indicator").addClass("selected")}e.options.rowDetails&&r.parent().find(".ui-row.row-detail-container[rowIndex="+r.attr("rowindex")+"]").addClass("selected"),n||e.options.listeners.onselectionchange&&e.options.listeners.onselectionchange(e,e.element,e.rowIndex,e.options.data[e.rowIndex])},me.selectCell=function(e,t,n,o,r){if(e.options.data&&e.options.data.length>0){r=r!==!1;var i=e.element.api.resolveRowElement(t);if(0===t.length)throw new Error("selectCell: row passed in a wrong way!");var l=i.find(".ui-cell[colIndex="+n+"]");if(0===l.length)throw new Error("selectCell: colIndex passed in a wrong way!");e.options.multiSelect||e.element.api.clearSelections(),l.addClass("selected");var a=e.element.api.resolveRowIndex(t);e.rowIndex=a,e.colIndex=n}},me.getColumn=function(e,t){var n=function o(e,t){for(var n=0;n<e.length;n++)if(e[n].columns){var r=o(e[n].columns,t);if(r)return r}else if(e[n].name===t)return e[n];return null};return n(e.options.columns,t)},me.updateSelectedRow=function(controller,json){if(void 0===controller.rowIndex)throw"You have to select a record";for(var fieldsNotNested=uiDeniGridHelperService.prepareForNestedJson(json),keyFieldsToChange=Object.keys(fieldsNotNested),record=controller.options.data[controller.rowIndex],dataKeys=Object.keys(record),index=0;index<keyFieldsToChange.length;index++){var fieldNameToChange=keyFieldsToChange[index];if(dataKeys.indexOf(fieldNameToChange)===-1)console.warn('"updateSelectedRow" : field "'+fieldNameToChange+'" not found!');else{var newValue=eval("json."+fieldNameToChange);record[fieldNameToChange]=newValue}}_repaintRow(controller,controller.rowIndex,!0,!0)},me.updateCell=function(e,t,n,o){var r=e.element.api.resolveRowElement(t),i=r.find(".ui-cell[colIndex="+n+"]"),l=i.find(".ui-cell-inner");l.html(o),i.addClass("changed"),i.closest(".ui-row").addClass("changed")},me.updateSelectedCell=function(e,t){if(!angular.isDefined(e.rowIndex)||!angular.isDefined(e.colIndex))throw"You have to select a record";me.updateCell(e,e.rowIndex,e.colIndex,t)},me.isHideHeaders=function(e){return e.options.hideHeaders},me.setHideHeaders=function(e,t){var n;n=t?"none":"block",e.colsViewport.find(".ui-header-viewport").css("display",n),e.options.hideHeaders=t},me.getPageNumber=function(e){return e.options.paging.currentPage},me.setPageNumber=function(e,t){e.paging.find("input.input-page-number").val(t),me.reload(e,t),_checkDisableButtonsPageNavigation(e,e.options.data,t)};var _checkDisableButtonsPageNavigation=function(e,t,n){var o=e.paging.find(".button.button-first"),r=e.paging.find(".button.button-prev"),i=e.paging.find(".button.button-next"),l=e.paging.find(".button.button-last"),a=e.paging.find(".button.button-additional"),s=t.length>0&&n>1,d=t.length>0&&n<e.options.paging.pageCount;t.length>0?a.removeClass("disabled"):a.addClass("disabled"),s?(o.removeClass("disabled"),r.removeClass("disabled")):(o.addClass("disabled"),r.addClass("disabled")),d?(i.removeClass("disabled"),l.removeClass("disabled")):(i.addClass("disabled"),l.addClass("disabled"))},_getPropertyXML=function e(t,n,o){var r=n.nodeName.toLowerCase();if(o&&(r=o+"."+r),t.indexOf(r)===-1){t.push(r);for(var i=0;i<n.children.length;i++)e(t,n.children[i],r)}},isArrayItem=function(e){if(angular.isDefined(e.children)&&e.children.length>0){for(var t="",n=0;n<e.children.length;n++)if(""===t)t=e.children[n].nodeName.toLowerCase();else if(e.children[n].nodeName.toLowerCase()!==t)return!1;return!0}return!1},_getRecordXML=function t(e,n,o){for(var r=o?o:{},i=0;i<n.children.length;i++){var l=n.children[i],a=l.nodeName.toLowerCase();if(0===l.children.length)r[a]=l.textContent;else if(isArrayItem(l)){for(var s=[],d=0;d<l.children.length;d++)t(s,l.children[d]);r[a]=s}else r[a]={},t(e,l,r[a])}angular.isDefined(o)||e.push(r)},_xmlToJson=function(e,t){for(var n=$(t),o=n.find(e.options.restConfig.data).find(e.options.restConfig.dataItems),r=[],i=0;i<o.length;i++)_getRecordXML(r,o[i]);var l={success:!0};return l[e.options.restConfig.data]=r,l[e.options.restConfig.total]=parseInt(n.find(e.options.restConfig.total).text()),l},_getDefaultRequestPromise=function(e){var t=$q.defer();return $http.get(e).then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};me.load=function(e,t){var n=$q.defer();if(e.options.url){e.options.data||e.bodyViewport.addClass("initilizing-data");var o=e.options.url;if(e.options.paging){e.options.paging.currentPage=t||1;var r=e.options.paging.currentPage;e.paging.find("input.input-page-number").val(r);var i=e.options.paging.pageSize,l=(r-1)*i;o+=o.indexOf("?")===-1?"?":"&",o+="page="+r+"&"+e.options.restConfig.start+"="+l+"&"+e.options.restConfig.limit+"="+i}e.options.filter&&e.options.filter.remote&&0!==Object.keys(e.options.filter.model).length&&(o+=o.indexOf("?")===-1?"?":"&",o+="filter="+JSON.stringify(e.options.filter.model));var a=e.options.requestPromise;e.options.requestPromise||(a=_getDefaultRequestPromise),e.loading=!0,a(o).then(function(t){e.loading=!1;var o;if(o="xml"===e.options.restConfig.type?_xmlToJson(e,t.data):t.data,angular.isArray(o)&&(o={success:!0,data:o,total:o.length}),e.options.paging){e.options.paging.dataLength=o[e.options.restConfig.total],e.options.paging.pageCount=Math.ceil(e.options.paging.dataLength/e.options.paging.pageSize),e.element.api.loadData(o[e.options.restConfig.data]),n.resolve(o[e.options.restConfig.data]),e.paging.find(".label-page-count").html("of "+e.options.paging.pageCount);var r=e.options.paging.pageSize,i=(e.options.paging.currentPage-1)*r,l=i+e.options.paging.pageSize;l>e.options.paging.dataLength&&(l=e.options.paging.dataLength),e.paging.find(".label-displaying").html(i+" - "+l),e.paging.find(".label-record-count").html(e.options.paging.dataLength+" records")}else e.element.api.loadData(o[e.options.restConfig.data]),n.resolve(o[e.options.restConfig.data]);e.bodyViewport.removeClass("initilizing-data")},function(t){e.loading=!1,n.reject(t.statusText)})}else e.loading=!1,n.reject('"load" : To use load function is necessary set the url property.');return n.promise},me.reload=function(e,t){return me.load(e,t)},me.loadData=function(controller,data){controller.options.listeners.onbeforeload&&controller.options.listeners.onbeforeload(data,controller.options),uiDeniGridHelperService.hasColumnFooter(controller)&&(uiDeniGridHelperService.renderColumnFooters(controller,controller.footerContainer,controller.options.columns,data,!0),uiDeniGridHelperService.remakeHeightBodyViewportWrapper(controller)),controller.renderedIndexes=[];var filterModelKeys=Object.keys(controller.options.filter.model);if(controller.options.filter&&filterModelKeys.length>0&&!controller.options.filter.remote){var matchFilterFn=function e(t,n){if(angular.isArray(n)){for(var o=!1,r=0;r<n.length;r++){var i=n[r];if(!e(t,i)){o=!1;break}o=!0}return o}if("="===n.oper)return t.toString().toLowerCase()===n.value.toString();if("~"===n.oper)return t.toString().search(new RegExp(n.value,"i"))!==-1;if("<="===n.oper)return n.value<=t;if(">="===n.oper)return n.value>=t;throw new Error("Invalid operator!")},columns=controller.options.columns;controller.options.data=$filter("filter")(data,function(record,index,array){if(!controller.options.filter.allFields){for(var filterOk=!1,_index4=0;_index4<filterModelKeys.length;_index4++){var valuesToFilterKey=filterModelKeys[_index4],valueToFilter=controller.options.filter.model[valuesToFilterKey],_value2=eval("record."+valuesToFilterKey);if(_value2&&valueToFilter){if(!matchFilterFn(_value2,valueToFilter))return!1;filterOk=!0}}return filterOk}for(var colIndex=0;colIndex<columns.length;colIndex++){var colName=columns[colIndex].name,_value=record[colName];if(_value&&matchFilterFn(_value,controller.options.filter.model["*"]))return!0}return!1})}else controller.options.data=data;controller.options.alldata=data,controller.groupRecords=[],controller.options.dataGroup=[],controller.bodyContainer.find(".ui-row").remove(),controller.fixedColsBodyContainer.find(".ui-row").remove();var rowHeight=parseInt(controller.options.rowHeight.replace("px",""));controller.rowsPerPage=parseInt(controller.bodyViewport.height()/rowHeight)+1;var limitLength=data.length<controller.rowsPerPage?data.length:controller.rowsPerPage;if(controller.element.api.isGrouped()){var expressionToGroup=controller.options.grouping.expr,getEvalFieldValue=function getEvalFieldValue(record,fieldName){return eval("record."+fieldName)},getEvalExpressionValue=function getEvalExpressionValue(record,expression){var evalStr="(function() {\n\t\twith (record) {\n\t\t\t\treturn "+expression+"\n\t\t}\n})()";return eval(evalStr)},fieldsNotNested=uiDeniGridHelperService.prepareForNestedJson(controller.options.data[0]),fields=Object.keys(fieldsNotNested),functionToEvaluate;functionToEvaluate=fields.indexOf(controller.options.grouping.expr)?getEvalFieldValue:getEvalExpressionValue,controller.options.data=$filter("orderBy")(controller.options.data,expressionToGroup),controller.options.fixedSorters=[{name:expressionToGroup,direction:"ASC"}];for(var oldValue,recordGroup,groupIndex=-1,index=0;index<controller.options.data.length;index++){var record=controller.options.data[index],value=functionToEvaluate(record,expressionToGroup);oldValue===value?recordGroup.children++:(oldValue=value,groupIndex++,recordGroup=record,recordGroup.children=1,controller.options.dataGroup.push(record)),record.groupIndex=groupIndex,record.rowIndex=index}controller.bodyContainer.height(controller.options.dataGroup.length*rowHeight+2),controller.options.fixedCols&&controller.fixedColsBodyContainer.height(controller.bodyContainer.height())}else{var heightBodyContainer;heightBodyContainer=controller.options.cardView?Math.ceil(controller.options.data.length/controller.options.cardView.numberOfColumns)*rowHeight:controller.options.data.length*rowHeight,controller.bodyContainer.height(heightBodyContainer+2),controller.options.fixedCols&&controller.fixedColsBodyContainer.height(controller.bodyContainer.height())}controller.managerRendererItems.createItems(),_repaint(controller),uiDeniGridHelperService.remakeHeightBodyViewportWrapper(controller),controller.options.data.length>0&&controller.element.api.selectRow(0,!1,!1),controller.options.listeners.onafterload&&controller.options.listeners.onafterload(controller.options.data,controller.options),controller.options.paging&&_checkDisableButtonsPageNavigation(controller,data,controller.options.paging.currentPage)},me.findKey=function(e,t,n){var o=JSON.parse('{"'+e.options.keyField+'": "'+t+'"}');return me.find(e,o,n)},me.find=function(controller,valuesToFind,opts){var data=controller.options.data||[];valuesToFind=valuesToFind||{};var keys=Object.keys(valuesToFind);if(0===data.length)throw new Error('"Find" : There is no data to find!');if(0===keys.length)throw new Error('"Find" : param "valuesToFind" must be informed!');opts=opts||{};var exactSearch=opts.exactSearch!==!1,all=opts.all===!0,ignoreCase=opts.ignoreCase===!0,recordsFound=[],breakParentLoop=!1,newJson=uiDeniGridHelperService.prepareForNestedJson(valuesToFind);keys=Object.keys(newJson);for(var found=!1,index=0;index<data.length;index++){for(var record=data[index],foundRecord=!1,fieldIndex=0;fieldIndex<keys.length;fieldIndex++){var fieldName=keys[fieldIndex],valueToFind=valuesToFind[fieldName],value=eval("record."+fieldName),valueIsString=angular.isString(value);ignoreCase&&valueIsString&&(valueToFind=valueToFind.toLowerCase(),value=value.toLowerCase()),foundRecord=exactSearch||!valueIsString?valueToFind===value:value.indexOf(valueToFind)!==-1}if(foundRecord&&(found=!0,recordsFound.push(record),!all))break}if(found&&opts.inLine){var inLineDefaultValue={realce:!1},inLine;if(opts.inLine===!0)inLine=inLineDefaultValue;else{if(!angular.isObject(opts.inLine))throw new Error('"find": param "inLine" passed in a wrong way');inLine=opts.inLine}var inLineRealceDefaultValue={style:"background-color:#FFFF00;color:black;padding:1px;"},inLineRealce;inLine.realce&&(inLine.realce===!0?inLine.realce=inLineRealceDefaultValue:(inLine.realce=opts.inLine.realce,inLine.realce.style=inLine.realce.style||inLineRealceDefaultValue.style)),inLine.scrollIntoView=inLine.scrollIntoView!==!1,controller.searchInfo={valuesToFind:valuesToFind,opts:opts};var selectAndRemoveRendered=function(e,t,n){controller.element.api.selectRow(e,t,n);var o=controller.element.api.resolveRowElement(e);o.attr("rendered",!1)};if(controller.element.api.clearSelections(),Array.isArray(recordsFound))if(controller.options.multiSelect)for(var _index5=0;_index5<recordsFound.length;_index5++)selectAndRemoveRendered(recordsFound[_index5],0!==_index5,0===_index5);else recordsFound.length>1&&console.warn('"find": More than one record was returned, but as the "inLine" property is true and "multiSelect" is false, just the first record will be selected.'),selectAndRemoveRendered(recordsFound[0],!1,!0);else null!==recordsFound&&selectAndRemoveRendered(recordsFound,!1,!0);_repaint(controller)}return all?recordsFound:recordsFound[0]},me.filter=function(e,t,n){angular.isString(t)?e.options.filter.model=angular.merge(e.options.filter.model,{"*":{key:t,oper:"~",value:t}}):e.options.filter.model=t,e.options.paging&&(e.options.paging.currentPage=1),e.options.filter&&e.options.filter.remote?e.element.api.reload():e.element.api.loadData(e.options.alldata)},me.getRowHeight=function(e){return e.options.rowHeight},me.setRowHeight=function(e,t){var n=e.bodyViewport.find("div.ui-row:not(.grouping-footer-container)");n.css("height",e.options.rowHeight)};var _recreateAll=function(e){e.options.data&&(e.bodyViewport.find("div.ui-deni-view-group-header").remove(),e.bodyViewport.find("div.ui-row").remove(),me.loadData(e,e.options.data))};me.toogleGrouping=function(e){e.options.enableGrouping=!e.options.enableGrouping,_recreateAll(e)},me.isEnableGrouping=function(e){return e.options.enableGrouping},me.isGrouped=function(e){return e.isGrouped},me.setEnableGrouping=function(e){e.options.enableGrouping=!0,_recreateAll(e)},me.setDisableGrouping=function(e){e.options.enableGrouping=!1,_recreateAll(e)};var _renderRowEl=function(e,t,n){var o=$(document.createElement("div"));o.addClass("ui-row"),o.attr("rowindex",t.rowIndex.toString()),o.css("left","0px");var r=void 0;if(e.options.fixedCols&&(r=$(document.createElement("div")),r.addClass("ui-row"),r.attr("rowindex",t.rowIndex.toString()),r.css("left","0px"),e.fixedColsBodyContainer.append(r)),t.rowDetails){var i=e.bodyContainer.find(".ui-row[rowIndex="+t.rowIndex+"]:not(.row-detail-container)");o.insertAfter(i);var l=i.find(".ui-cell:eq(0)").is(".selected");l&&o.addClass("selected"),o.addClass("row-detail-container");var a=$(document.createElement("div"));if(a.addClass("row-detail-box"),o.append(a),i=e.element.api.resolveRowElement(t.rowIndex),o.css("height",t.height+"px"),o.css("top",t.top+"px"),o.insertAfter(i),o.click(function(){e.element.api.selectRow(i)}),t.rowElement=o,e.options.rowDetails.template){var s=uiDeniGridHelperService.applyTemplateValues(e.options.rowDetails.template,n);t.rowElement.html(s)}else e.options.rowDetails.renderer&&e.options.rowDetails.renderer(t.rowElements,n)}else e.bodyContainer.append(o),o.css("height",t.height),o.css("top",t.top+"px"),e.options.fixedCols&&(r.css("height",t.height+"px"),r.css("top",t.top+"px")),angular.isDefined(t.children)?(t.footerContainer?o.addClass("ui-grouping-footer-container"):(o.addClass("row-detail"),o.addClass("grouping"),t.expanded?o.addClass("collapse"):o.addClass("expand")),o.attr("groupIndex",t.groupIndex),o.attr("children",t.children)):angular.isDefined(t.groupIndex)?(o.attr("groupIndex",t.groupIndex),o.attr("indexInsideGroup",t.indexInsideGroup),e.options.stripRows&&t.indexInsideGroup%2===1&&o.addClass("odd-row")):e.options.stripRows&&t.rowIndex%2===1&&(o.addClass("odd-row"),e.options.fixedCols&&r.addClass("odd-row"));return e.options.listeners.onbeforerender&&e.options.listeners.onbeforerender(o,e),uiDeniGridEventsService.onrenderer(o,r,n,t,e),e.options.listeners.onafterrender&&e.options.listeners.onafterrender(o,e),o.dblclick(function(t){var n=$(t.target),o=n.closest(".ui-row"),r=parseInt(o.attr("rowindex")),i=e.options.data[r];e.options.listeners.onrowdblclick&&e.options.listeners.onrowdblclick(i,o,r)}),t.rendered=!0,o};me.repaint=function(e,t){_repaint(e,t)},me.repaintRow=function(e,t){var n=e.element.api.resolveRowIndex(t);_repaintRow(e,n,!0,!0)},me.repaintSelectedRow=function(e){var t=me.getSelectedRowIndex(e);me.repaintRow(e,t)},me.getRowIndex=function(e,t){for(var n=e.options.data,o=0;o<n.length;o++){var r=n[o];if(angular.equals(r,t))return o}return-1},me.removeRow=function(e,t){var n=e.element.api.resolveRowIndex(t),o=e.element.api.getSelectedRowIndex();if(e.managerRendererItems.removeRow(e,n),_repaint(e),e.options.data.length>0&&o!==-1){var r=o;r>n&&r--,e.element.api.selectRow(r,!1,!1)}},me.removeSelectedRows=function(e){for(var t=me.getSelectedRowIndexes(e),n=0,o=0;o<t.length;o++){var r=t[o];me.removeRow(e,r-n),n++}},me.resolveRowElement=function(e,t){var n=-1;if(angular.isObject(t)){if(angular.isElement(t))return t;n=me.getRowIndex(e,t)}else n=t;return e.bodyViewport.find(".ui-row[rowindex="+n+"]:not(.grouping)")},me.resolveRowIndex=function(e,t){return angular.isObject(t)?angular.isElement(t)?t.attr("rowindex"):me.getRowIndex(e,t):t},me.setEnabled=function(e,t){e.enabled=t,t?e.element.removeClass("disabled"):e.element.addClass("disabled")}}angular.module("ui-deni-grid").service("uiDeniGridService",uiDeniGridService)}(),function(){function e(e){function t(e,t){return{clearSelections:function(){t.clearSelections(e)},find:function(n,o){return t.find(e,n,o)},findFirst:function(n,o){return t.findFirst(e,n,o)},findKey:function(n,o){return t.findKey(e,n,o)},findLast:function(n,o){return t.findLast(e,n,o)},findNext:function(n,o){return t.findNext(e,n,o)},findPrevious:function(n,o){return t.findPrevious(e,n,o)},filter:function(n,o){return t.filter(e,n,o)},getChangedRecords:function(){return t.getChangedRecords(e)},getColumn:function(n){return t.getColumn(e,n)},getEnabled:function(t){return e.enabled},getPageNumber:function(){return t.getPageNumber(e)},getRowHeight:function(){return t.getRowIndex(e)},getRowIndex:function(n){return t.getRowIndex(e,n)},getSelectedRow:function(){return t.getSelectedRow(e)},getSelectedRowIndex:function(){return t.getSelectedRowIndex(e)},isEnableGrouping:function(){return t.isEnableGrouping(e)},isGrouped:function(){return t.isGrouped(e)},isRowSelected:function(n){return t.isRowSelected(e,n)},isRowVisible:function(n){return t.isRowVisible(e,n)},load:function(){t.load(e)},loadData:function(n){t.loadData(e,n)},isHideHeaders:function(){return t.isHideHeaders(e)},reload:function(){return t.reload(e)},removeRow:function(n){t.removeRow(e,n)},removeSelectedRows:function(){t.removeSelectedRows(e)},resolveRowElement:function(n){return t.resolveRowElement(e,n)},resolveRowIndex:function(n){return t.resolveRowIndex(e,n)},repaint:function(n){t.repaint(e,n)},repaintRow:function(n){return t.repaintRow(e,n)},repaintSelectedRow:function(){return t.repaintSelectedRow(e)},setDisableGrouping:function(){t.setDisableGrouping(e)},setEnableGrouping:function(){t.setEnableGrouping(e)},setHideHeaders:function(n){return t.setHideHeaders(e,n)},selectAll:function(){t.selectAll(e)},setEnabled:function(n){t.setEnabled(e,n)},selectRow:function(n,o,r){t.selectRow(e,n,o,r)},selectCell:function(n,o,r,i){t.selectRow(e,n,o,r,i)},setPageNumber:function(n){t.setPageNumber(e,n)},setRowHeight:function(n){t.setRowHeight(e,n)},setToogleGrouping:function(){t.setToogleGrouping(e)},sort:function(n,o){return e.options.sorters=t.sort(e,n,o),e.options.sorters},updateSelectedRow:function(n){t.updateSelectedRow(e,n)},updateCell:function(n,o,r){t.updateCell(e,n,o,r)},updateSelectedCell:function(n){t.updateSelectedCell(e,n)}}}var n=this;n.implementApi=function(e,n,o){n.each(function(){angular.element(this).init.prototype.api=t(e,o)})}}angular.module("ui-deni-grid").service("uiDeniGridApiService",e),e.$inject=["uiDeniGridService"]}(),function(){angular.module("ui-deni-grid").run(["$templateCache",function(e){e.put("ui-deni-grid-sections",'                <div class="ui-viewport">\n                    <div class="ui-container">\n                        <div class="ui-header-viewport-wrapper">\n                            <div class="ui-header-viewport">\n                                <div class="ui-header-container">\n                                </div>\n                            </div>\n                        </div>\n                        <div class="ui-body-viewport-wrapper">\n                            <div class="ui-body-viewport">\n                                <div class="ui-body-container">\n                                </div>\n                            </div>\n                        </div>\n                        <div class="ui-footer-viewport-wrapper">\n                            <div class="ui-footer-viewport">\n                                <div class="ui-footer-container">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n'),e.put("ui-deni-grid",'<div class="ui-deni-grid-wrapper">\n    <div class="ui-deni-grid-viewport">\n        <div class="ui-deni-grid-container">\n            <div class="ui-fixed-cols-viewport-wrapper">\n'+e.get("ui-deni-grid-sections")+'            </div>\n            <div class="ui-variable-cols-viewport-wrapper">\n'+e.get("ui-deni-grid-sections")+'            </div>\n        </div>\n        <div class="ui-deni-grid-paging">\n        </div>\n    </div>\n    <div class="ui-deni-grid-loading ng-hide" ng-show="ctrl.loading">\n        <div class="image"></div>\n        <div class="text">Loading...</div>\n    </div>\n</div>')}])}();